(this.webpackJsonpstave_front=this.webpackJsonpstave_front||[]).push([[0],{1185:function(e,t,n){},1186:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(28),i=n.n(r),o=n(79),s=n(13),l=n(1271),u=n(198),d=n(376),j=n(12),b=n(378),O=n(1255),m=n(97),h=n(98),f=n(379),x=n.n(f),p=n(55),v={currentUser:void 0,headers:void 0},g=Object(m.b)({name:"currentUser",initialState:v,reducers:{setCurrentUser:function(e,t){e.currentUser=t.payload},setHeaders:function(e,t){var n,a=t.payload,c=a["content-type"],r=a["access-token"],i=a.client,o=a.uid,s=(null===(n=e.headers)||void 0===n?void 0:n.headers["access-token"])||"";e.headers={headers:{"content-type":c,"access-token":r||s,client:i,uid:o}}},remove:function(e){e.currentUser=void 0,e.headers=void 0}}}),S=function(e){return e.currentUser.currentUser},k=function(e){return e.currentUser.headers},C=g.actions,I=C.setCurrentUser,y=C.setHeaders,E=C.remove,P=g.reducer,U={code:void 0,token:void 0},A=Object(m.b)({name:"spotify",initialState:U,reducers:{setCode:function(e,t){e.code=t.payload},setToken:function(e,t){e.token=t.payload},remove:function(e){e.code="",e.token=void 0}}}),w=function(e){return e.spotify.token},L=A.actions,N=(L.setCode,L.setToken),M=L.remove,T=A.reducer,R=Object(m.b)({name:"spotify",initialState:{opened:!1},reducers:{close:function(e){e.opened=!1},open:function(e){e.opened=!0}}}),B=function(e){return e.authModal.opened},q=R.actions,D=q.close,_=q.open,$=R.reducer,V=Object(p.b)({currentUser:P,spotify:T,authModal:$}),W={key:"root",version:1,storage:x.a},F=Object(h.g)(W,V),K=Object(m.c)({serializableCheck:{ignoredActions:[h.a,h.f,h.b,h.c,h.d,h.e]}}),Q=Object(m.a)({reducer:F,middleware:K}),z=Object(h.h)(Q),Y=n(42),G=n(4),H=n(8),J=n(1274),X=n(1243),Z=n(1280),ee=n(1231),te=n(1236),ne=n(1234),ae=n(1232),ce=n(1233),re=n(1235),ie=n(74),oe=n.n(ie),se=n(1230),le=n(415),ue=n(1229),de=n(1269),je=n(2),be=function(e){var t=e.page,n=e.pageCount,a=e.onPage,c=e.loading,r=e.children;return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsxs)(ue.a,{component:le.a,children:[r,c&&Object(je.jsx)(se.a,{})]}),t&&Object(je.jsx)(de.a,{count:n,page:t,onChange:a})]})};be.defaultProps={page:void 0,pageCount:void 0,onPage:void 0,loading:!1};var Oe=be,me=n(5),he=function(){var e=Object(j.b)(),t=Object(o.b)().enqueueSnackbar;return{onError:function(n){var a;401===(null===(a=n.response)||void 0===a?void 0:a.status)&&(e(E()),e(_())),t(String(n),{variant:"error"})}}},fe=n(140),xe=n.n(fe),pe=xe.a.create({baseURL:"https://itunes.apple.com"}),ve=function(e){return pe.jsonp("/lookup",{params:{id:e,entity:"musicArtist"}})},ge=function(e){return pe.jsonp("/lookup",{params:{id:e,entity:"album"}})},Se=function(e){return pe.jsonp("/lookup",{params:{id:e,entity:"song"}})},ke=function(e){var t=e.musics,n=e.page,a=e.pageCount,c=e.onPage,r=e.loading,i=t.map((function(e){return e.link.itunes||0})).join(","),o=[{route:G.MUSICS,name:"Musics"},{route:G.BANDS,name:"Bands"},{route:G.ARTISTS,name:"Composers"},{route:G.ARTISTS,name:"Lyrists"},{route:G.USERS,name:"Users"}],l=0,u="",d=he().onError,j=Object(J.a)([me.ITUNES,me.MUSICS,i],(function(){return Se(i).then((function(e){return e.results}))}),{enabled:!!i,onError:d});return Object(je.jsx)(Oe,{page:n,pageCount:a,onPage:c,loading:r,children:Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{}),o.map((function(e){return Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:e.route,children:e.name})},e.name)}))]})}),Object(je.jsx)(te.a,{children:null===t||void 0===t?void 0:t.map((function(e){var t=e.id,n=e.title,a=e.band,c=e.user,r=e.composers,i=e.lyrists;return e.link.itunes&&j.data?(u=j.data[l].artworkUrl60,l+=1):u=void 0,Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:u&&Object(je.jsx)(oe.a,{loading:j.isLoading,src:u})}),Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.USERS,"/").concat(c.id).concat(G.MUSICS,"/").concat(t),children:n})}),Object(je.jsx)(ne.a,{children:a&&Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.BANDS,"/").concat(a.id),children:null===a||void 0===a?void 0:a.name})}),Object(je.jsx)(ne.a,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.ARTISTS,"/").concat(e.id),children:e.name},e.id)}))}),Object(je.jsx)(ne.a,{children:null===i||void 0===i?void 0:i.map((function(e){return Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.ARTISTS,"/").concat(e.id),children:e.name},e.id)}))}),Object(je.jsx)(ne.a,{children:c&&Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.USERS,"/").concat(c.id),children:c.nickname})})]},t)}))})]})})},Ce=n(1237),Ie=n(1240),ye=n(1238),Ee=n(1241),Pe=n(117),Ue=n(200),Ae=n.n(Ue),we=n(201),Le=n.n(we),Ne=n(202),Me=n.n(Ne),Te=n(203),Re=n.n(Te),Be=function(e){var t=e.type,n=null,a="",c="large";switch(t){case"Album":n=Object(je.jsx)(Ae.a,{fontSize:c}),a=G.ALBUMS;break;case"Artist":n=Object(je.jsx)(Le.a,{fontSize:c}),a=G.ARTISTS;break;case"Music":n=Object(je.jsx)(Me.a,{fontSize:c}),a=G.MUSICS;break;case"Band":n=Object(je.jsx)(Re.a,{fontSize:c}),a=G.BANDS;break;default:return null}return Object(je.jsxs)(Ce.a,{variant:"outlined",children:[Object(je.jsxs)(ye.a,{children:[Object(je.jsx)(Z.a,{textAlign:"center",children:n}),Object(je.jsx)(Pe.a,{variant:"h5",component:"h2",children:t}),Object(je.jsxs)(Pe.a,{color:"textSecondary",children:["create ",t]}),Object(je.jsxs)(Pe.a,{variant:"body2",component:"p",children:["create ",t]})]}),Object(je.jsx)(Ie.a,{children:Object(je.jsx)(Ee.a,{size:"small",component:s.b,to:"".concat(a).concat(G.NEW),children:"Create"})})]})},qe=n(26),De=n(380),_e=n.n(De);n(483),n(484);var $e,Ve,We,Fe,Ke,Qe,ze,Ye,Ge,He,Je,Xe,Ze,et,tt,nt,at,ct,rt,it,ot,st,lt,ut,dt,jt,bt,Ot,mt,ht=function(e){var t,n,a=e.cards,c=e.children;return Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(_e.a,{speed:500,children:(t=a||[],n=2,t.reduce((function(e,a,c){return c%n?e:[].concat(Object(qe.a)(e),[t.slice(c,c+n)])}),[])).map((function(e){var t=Object(H.a)(e,2),n=t[0],a=t[1];return Object(je.jsx)(Z.a,{py:3,children:c(n,a)},n.id)}))})})},ft=n(1228),xt=n(1242),pt=Object(ft.a)({media:{height:100,width:100}}),vt=function(e){var t,n,a,c=e.music,r=e.onClick,i=pt(),o=Object(J.a)([me.ITUNES,me.MUSIC,c.link.itunes],(function(){return Se(c.link.itunes).then((function(e){return e.results[0]}))})).data;return Object(je.jsx)(Ce.a,{onClick:r,children:Object(je.jsxs)(Z.a,{display:"flex",children:[Object(je.jsx)(Z.a,{display:"flex",justifyItems:"center",alignItems:"center",p:1,children:(null===o||void 0===o?void 0:o.artworkUrl100)&&Object(je.jsx)(xt.a,{image:null===o||void 0===o?void 0:o.artworkUrl60,className:i.media})}),Object(je.jsxs)(ye.a,{children:[Object(je.jsx)(Pe.a,{variant:"h6",noWrap:!0,children:c.title}),(null===(t=c.band)||void 0===t?void 0:t.name)&&Object(je.jsxs)(Pe.a,{color:"textSecondary",noWrap:!0,children:["Band: ",null===(n=c.band)||void 0===n?void 0:n.name]}),(null===(a=c.composers)||void 0===a?void 0:a.length)?Object(je.jsxs)(Pe.a,{color:"textSecondary",noWrap:!0,children:["Composer:"," ",c.composers.map((function(e){return Object(je.jsx)("span",{children:e.name},e.id)}))]}):null]})]})})},gt=function(e,t){return"".concat(G.USERS,"/").concat(e||"undefined").concat(G.MUSICS,"/").concat(t)},St=function(e){var t=e.data,n=Object(Y.f)();return Object(je.jsx)(ht,{cards:t,children:function(e,t){return Object(je.jsxs)(X.a,{container:!0,spacing:2,children:[Object(je.jsx)(X.a,{item:!0,xs:6,children:Object(je.jsx)(vt,{onClick:function(){var t;return n.push(gt(null===(t=e.user)||void 0===t?void 0:t.id,e.id))},music:e})}),Object(je.jsx)(X.a,{item:!0,xs:6,children:Object(je.jsx)(vt,{onClick:function(){var e;return n.push(gt(null===(e=t.user)||void 0===e?void 0:e.id,t.id))},music:t})})]})}})},kt=n(1244),Ct=function(e){var t=e.children;return Object(je.jsx)(kt.a,{children:Object(je.jsx)(Z.a,{my:5,children:t})})},It=function(){var e=Object(a.useState)(1),t=Object(H.a)(e,2),n=t[0],c=t[1];return[n,Object(a.useCallback)((function(e,t){return c(t)}),[])]},yt=n(17),Et=n(19),Pt=Object(yt.gql)($e||($e=Object(Et.a)(["\n  query getAlbum($id: Int!, $currentUserId: Int) {\n    album(id: $id) {\n      id\n      title\n      link {\n        id\n        itunes\n      }\n      artists {\n        id\n        name\n      }\n      bookmark(currentUserId: $currentUserId) {\n        id\n      }\n      bookmarksCount\n    }\n  }\n"]))),Ut=Object(yt.gql)(Ve||(Ve=Object(Et.a)(["\n  query getAlbumMusics($id: Int!, $musicPage: Int!) {\n    album(id: $id) {\n      musics(musicPage: $musicPage) {\n        data {\n          id\n          title\n          link {\n            itunes\n            spotify\n          }\n          band {\n            name\n          }\n          composers {\n            id\n            name\n          }\n          lyrists {\n            id\n            name\n          }\n        }\n        pagination {\n          totalPages\n        }\n      }\n    }\n  }\n"]))),At=Object(yt.gql)(We||(We=Object(Et.a)(["\n  query getAlbums($page: Int!, $q: JSON) {\n    albums(page: $page, q: $q) {\n      pagination {\n        totalPages\n      }\n      data {\n        id\n        title\n        link {\n          itunes\n        }\n      }\n    }\n  }\n"]))),wt=Object(yt.gql)(Fe||(Fe=Object(Et.a)(["\n  query getArtist($id: Int!, $currentUserId: Int) {\n    artist(id: $id) {\n      id\n      name\n      link {\n        id\n        itunes\n        twitter\n        wikipedia\n        spotify\n      }\n      bands {\n        id\n        name\n        link {\n          itunes\n        }\n      }\n      bookmark(currentUserId: $currentUserId) {\n        id\n      }\n      bookmarksCount\n    }\n  }\n"]))),Lt=Object(yt.gql)(Ke||(Ke=Object(Et.a)(["\n  query getArtist($id: Int!, $albumPage: Int!) {\n    artist(id: $id) {\n      albums(albumPage: $albumPage) {\n        data {\n          id\n          title\n          link {\n            itunes\n          }\n        }\n        pagination {\n          totalPages\n        }\n      }\n    }\n  }\n"]))),Nt=Object(yt.gql)(Qe||(Qe=Object(Et.a)(["\n  query getMusics($id: Int!, $musicPage: Int!) {\n    artist(id: $id) {\n      musics(musicPage: $musicPage) {\n        data {\n          id\n          title\n          link {\n            itunes\n          }\n          band {\n            name\n          }\n          composers {\n            id\n            name\n          }\n          lyrists {\n            id\n            name\n          }\n          user {\n            id\n            nickname\n          }\n        }\n        pagination {\n          totalPages\n        }\n      }\n    }\n  }\n"]))),Mt=Object(yt.gql)(ze||(ze=Object(Et.a)(["\n  query getArtists($page: Int!, $q: JSON) {\n    artists(page: $page, q: $q) {\n      pagination {\n        totalPages\n      }\n      data {\n        id\n        name\n        link {\n          twitter\n        }\n      }\n    }\n  }\n"]))),Tt=Object(yt.gql)(Ye||(Ye=Object(Et.a)(["\n  query getBand($id: Int!, $currentUserId: Int) {\n    band(id: $id) {\n      id\n      name\n      link {\n        id\n        itunes\n        twitter\n        wikipedia\n        spotify\n      }\n      artists {\n        id\n        name\n        link {\n          id\n          twitter\n        }\n      }\n      bookmark(currentUserId: $currentUserId) {\n        id\n      }\n      bookmarksCount\n    }\n  }\n"]))),Rt=Object(yt.gql)(Ge||(Ge=Object(Et.a)(["\n  query getBandAlbums($id: Int!, $albumPage: Int!) {\n    band(id: $id) {\n      albums(albumPage: $albumPage) {\n        data {\n          id\n          title\n          link {\n            itunes\n          }\n        }\n        pagination {\n          totalPages\n        }\n      }\n    }\n  }\n"]))),Bt=Object(yt.gql)(He||(He=Object(Et.a)(["\n  query getBandMusics($id: Int!, $musicPage: Int!) {\n    band(id: $id) {\n      musics(musicPage: $musicPage) {\n        data {\n          id\n          title\n          composers {\n            id\n            name\n          }\n          lyrists {\n            id\n            name\n          }\n          user {\n            nickname\n          }\n          link {\n            itunes\n          }\n        }\n        pagination {\n          totalPages\n        }\n      }\n    }\n  }\n"]))),qt=Object(yt.gql)(Je||(Je=Object(Et.a)(["\n  query getIssue($id: Int!) {\n    issue(id: $id) {\n      id\n      title\n      description\n    }\n  }\n"]))),Dt=Object(yt.gql)(Xe||(Xe=Object(Et.a)(["\n  query getIssues($musicId: Int!, $page: Int!) {\n    issues(musicId: $musicId, page: $page) {\n      pagination {\n        totalPages\n      }\n      data {\n        id\n        title\n        description\n      }\n    }\n  }\n"]))),_t=Object(yt.gql)(Ze||(Ze=Object(Et.a)(["\n  query getMusic($id: Int!, $currentUserId: Int) {\n    music(id: $id) {\n      id\n      title\n      scoreExist\n      link {\n        id\n        itunes\n        musixmatch\n        spotify\n      }\n      user {\n        id\n        nickname\n      }\n      band {\n        id\n        name\n      }\n      artistMusics {\n        id\n        role\n        artist {\n          id\n          name\n        }\n      }\n      composers {\n        id\n        name\n      }\n      lyrists {\n        id\n        name\n      }\n      albums {\n        id\n        title\n        link {\n          itunes\n        }\n      }\n      bookmark(currentUserId: $currentUserId) {\n        id\n      }\n      bookmarksCount\n    }\n  }\n"]))),$t=Object(yt.gql)(et||(et=Object(Et.a)(["\n  query getRootTree($id: Int!) {\n    music(id: $id) {\n      rootTree {\n        oid\n        type\n        name\n        filemode\n      }\n    }\n  }\n"]))),Vt=Object(yt.gql)(tt||(tt=Object(Et.a)(["\n  query getMusic($id: Int!) {\n    music(id: $id) {\n      id\n      title\n      score\n    }\n  }\n"]))),Wt=Object(yt.gql)(nt||(nt=Object(Et.a)(["\n  query getMusics($page: Int!, $q: JSON) {\n    musics(page: $page, q: $q) {\n      pagination {\n        totalPages\n      }\n      data {\n        id\n        title\n        link {\n          itunes\n        }\n        user {\n          id\n          nickname\n        }\n        band {\n          id\n          name\n        }\n        composers {\n          id\n          name\n        }\n        lyrists {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),Ft=Object(yt.gql)(at||(at=Object(Et.a)(["\n  query getUserMusics($id: Int!, $currentUserId: Int) {\n    user(id: $id) {\n      nickname\n      introduction\n      followingCount\n      followersCount\n      followed(currentUserId: $currentUserId) {\n        id\n      }\n    }\n  }\n"]))),Kt=Object(yt.gql)(ct||(ct=Object(Et.a)(["\n  query getBookmarkAlbums($id: Int!, $bookmarkedAlbumPage: Int!) {\n    user(id: $id) {\n      bookmarkedAlbums(bookmarkedAlbumPage: $bookmarkedAlbumPage) {\n        data {\n          id\n          title\n          link {\n            itunes\n          }\n        }\n        pagination {\n          totalPages\n        }\n      }\n    }\n  }\n"]))),Qt=Object(yt.gql)(rt||(rt=Object(Et.a)(["\n  query getBookmarkArtists($id: Int!, $bookmarkedArtistPage: Int!) {\n    user(id: $id) {\n      bookmarkedArtists(bookmarkedArtistPage: $bookmarkedArtistPage) {\n        data {\n          id\n          name\n          link {\n            itunes\n          }\n        }\n        pagination {\n          totalPages\n        }\n      }\n    }\n  }\n"]))),zt=Object(yt.gql)(it||(it=Object(Et.a)(["\n  query getBookmarkBands($id: Int!, $bookmarkedBandPage: Int!) {\n    user(id: $id) {\n      bookmarkedBands(bookmarkedBandPage: $bookmarkedBandPage) {\n        data {\n          id\n          name\n          link {\n            itunes\n          }\n        }\n        pagination {\n          totalPages\n        }\n      }\n    }\n  }\n"]))),Yt=Object(yt.gql)(ot||(ot=Object(Et.a)(["\n  query getBookmarkMusic($id: Int!, $bookmarkedMusicPage: Int!) {\n    user(id: $id) {\n      bookmarkedMusics(bookmarkedMusicPage: $bookmarkedMusicPage) {\n        data {\n          id\n          title\n          band {\n            name\n          }\n          composers {\n            id\n            name\n          }\n          lyrists {\n            id\n            name\n          }\n          link {\n            itunes\n          }\n          user {\n            nickname\n          }\n        }\n        pagination {\n          totalPages\n        }\n      }\n    }\n  }\n"]))),Gt=Object(yt.gql)(st||(st=Object(Et.a)(["\n  query getUserFollower($id: Int!, $followerPage: Int!) {\n    user(id: $id) {\n      followers(followerPage: $followerPage) {\n        pagination {\n          totalPages\n        }\n        data {\n          id\n          nickname\n        }\n      }\n    }\n  }\n"]))),Ht=Object(yt.gql)(lt||(lt=Object(Et.a)(["\n  query getUserFollowing($id: Int!, $followingPage: Int!) {\n    user(id: $id) {\n      following(followingPage: $followingPage) {\n        pagination {\n          totalPages\n        }\n        data {\n          id\n          nickname\n        }\n      }\n    }\n  }\n"]))),Jt=Object(yt.gql)(ut||(ut=Object(Et.a)(["\n  query getUserMusics($id: Int!, $musicPage: Int!) {\n    user(id: $id) {\n      musics(musicPage: $musicPage) {\n        data {\n          id\n          title\n          band {\n            name\n          }\n          composers {\n            id\n            name\n          }\n          lyrists {\n            id\n            name\n          }\n          link {\n            itunes\n          }\n          user {\n            id\n            nickname\n          }\n        }\n        pagination {\n          totalPages\n        }\n      }\n    }\n  }\n"]))),Xt=Object(yt.gql)(dt||(dt=Object(Et.a)(["\n  query getUserMusics($id: Int!) {\n    user(id: $id) {\n      link {\n        id\n        twitter\n      }\n    }\n  }\n"]))),Zt=Object(yt.gql)(jt||(jt=Object(Et.a)(["\n  query getUsers($page: Int!, $q: JSON) {\n    users(page: $page, q: $q) {\n      pagination {\n        totalPages\n      }\n      data {\n        id\n        nickname\n        link {\n          twitter\n        }\n      }\n    }\n  }\n"]))),en=Object(yt.gql)(bt||(bt=Object(Et.a)(["\n  query getBlob($id: Int!, $oid: String!) {\n    music(id: $id) {\n      blob(oid: $oid)\n    }\n  }\n"]))),tn=Object(yt.gql)(Ot||(Ot=Object(Et.a)(["\n  query getBlob($id: Int!, $oid: String!) {\n    music(id: $id) {\n      tree(oid: $oid) {\n        oid\n        type\n        name\n        filemode\n      }\n    }\n  }\n"])));mt="http://localhost";var nn=new yt.GraphQLClient("".concat(mt,"/graphql")),an=function(e,t){return function(){return nn.request(Wt,{page:e,q:t}).then((function(e){return e.musics}))}},cn=function(e,t){return function(){return nn.request(Dt,{page:e,q:t}).then((function(e){return e.bands}))}},rn=function(e,t){return function(){return nn.request(Mt,{page:e,q:t}).then((function(e){return e.artists}))}},on=function(e,t){return function(){return nn.request(At,{page:e,q:t}).then((function(e){return e.albums}))}},sn=function(){var e,t,n,c,r=It(),i=Object(H.a)(r,2),o=i[0],s=i[1],l=he().onError,u=Object(J.a)([me.MUSICS,o],an(o,{s:"updated_at desc"}),{onError:l}),d=Object(J.a)([me.MUSICS,1,me.BOOKMARKS],an(1,{s:"bookmarks_count desc"}),{onError:l});return Object(a.useEffect)((function(){var e=new URL(window.location.href).searchParams.get("code");if(e){var t=window.opener;t&&t.getSpotifyCode(e),window.close()}}),[]),Object(je.jsxs)(Ct,{children:[Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsxs)(X.a,{container:!0,spacing:2,children:[Object(je.jsx)(X.a,{item:!0,xs:3,children:Object(je.jsx)(Be,{type:"Music"})}),Object(je.jsx)(X.a,{item:!0,xs:3,children:Object(je.jsx)(Be,{type:"Album"})}),Object(je.jsx)(X.a,{item:!0,xs:3,children:Object(je.jsx)(Be,{type:"Artist"})}),Object(je.jsx)(X.a,{item:!0,xs:3,children:Object(je.jsx)(Be,{type:"Band"})})]})}),Object(je.jsx)(St,{data:null===(e=d.data)||void 0===e?void 0:e.data}),Object(je.jsx)(ke,{musics:(null===(t=u.data)||void 0===t?void 0:t.data)||[],loading:u.isLoading,page:o,pageCount:null===(n=u.data)||void 0===n||null===(c=n.pagination)||void 0===c?void 0:c.totalPages,onPage:s})]})},ln=n(18),un=n.n(ln),dn=n(27),jn=n(1281),bn=n(76),On=n(9),mn=n(54),hn=n(381),fn=n(1282),xn=["name","defaultValue","onChange","onKeyPress","errors","control","rules"],pn=function(e){var t=e.name,n=e.defaultValue,a=e.onChange,c=e.onKeyPress,r=e.errors,i=e.control,o=e.rules,s=Object(mn.a)(e,xn),l=Object(dn.c)({name:t,control:i,rules:o,defaultValue:n}),u=l.field,d=u.ref,j=u.value,b=u.onChange,O=l.meta.invalid;return Object(je.jsx)(fn.a,Object(On.a)(Object(On.a)({},s),{},{value:j,inputRef:d,error:O,helperText:r&&Object(je.jsx)(hn.a,{errors:r,name:t}),onChange:function(e){a&&a(e),b(e.target.value)},onKeyPress:function(e){c&&c(e)}}))};pn.defaultProps={rules:{}};var vn=pn,gn=n(274),Sn=["disabled","loading","children"],kn=function(e){var t=e.disabled,n=e.loading,a=e.children,c=Object(mn.a)(e,Sn);return Object(je.jsx)(Ee.a,Object(On.a)(Object(On.a)({},c),{},{variant:"contained",startIcon:n&&Object(je.jsx)(gn.a,{size:20}),disabled:n||t,disableElevation:!0,children:a}))},Cn=n(34),In=Cn.b().shape({email:Cn.d().email().required(),password:Cn.d().required()}),yn=Cn.b().shape({email:Cn.d().email().required(),nickname:Cn.d().required().min(4).max(30),familyname:Cn.d().required().max(35),givenname:Cn.d().required().max(35),password:Cn.d().required(),passwordConfirmation:Cn.d().oneOf([Cn.c("password"),null])}),En=function(e){var t=e.onSuccess,n=Object(o.b)().enqueueSnackbar,c=Object(j.b)(),r=Object(dn.d)({resolver:Object(bn.a)(In)}),i=r.errors,s=r.control,l=r.setValue,u=r.handleSubmit,d=Object(jn.a)((function(e){return t=e,un.a.post("/auth/sign_in",t);var t}),{onSuccess:function(e){c(I(e.data.data)),c(y(e.headers)),n("SignIn successful",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}}),t()},onError:function(e){e.response?n(e.response.data.errors,{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}}):n(String(e),{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}}),b=d.isLoading,O=d.mutate;Object(a.useEffect)((function(){l("email","test@test.com"),l("password","password")}),[l]);return Object(je.jsxs)(Z.a,{m:3,children:[Object(je.jsx)(Pe.a,{variant:"h4",align:"center",children:"SignIn"}),Object(je.jsxs)("form",{onSubmit:u((function(e){return O(e)})),children:[Object(je.jsx)(vn,{type:"email",name:"email",defaultValue:"",autoComplete:"on",label:"Email",variant:"outlined",margin:"normal",control:s,errors:i,disabled:b,fullWidth:!0}),Object(je.jsx)(vn,{type:"password",name:"password",label:"Password",variant:"outlined",margin:"normal",control:s,defaultValue:"",errors:i,disabled:b,fullWidth:!0}),Object(je.jsx)(kn,{type:"submit",color:"primary",loading:b,fullWidth:!0,children:"SignIn"})]})]})},Pn=function(){var e=Object(Y.f)();return Object(je.jsx)(Ct,{children:Object(je.jsx)(kt.a,{maxWidth:"xs",children:Object(je.jsx)(le.a,{variant:"outlined",children:Object(je.jsx)(En,{onSuccess:function(){return e.push("/")}})})})})},Un=function(e){var t=e.onSuccess,n=Object(o.b)().enqueueSnackbar,a=Object(j.b)(),c=Object(dn.d)({resolver:Object(bn.a)(yn)}),r=c.errors,i=c.control,s=c.handleSubmit,l=Object(jn.a)((function(e){return t=e,un.a.post("/auth",t,{"Key-inflection":"camel"});var t}),{onSuccess:function(e){a(I(e.data.data)),a(y(e.headers)),n("SignUp successful",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}}),t()},onError:function(e){e.response?e.response.data.errors.full_messages.forEach((function(e){return n(e,{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})})):n(String(e),{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}}),u=l.isLoading,d=l.mutate;return Object(je.jsxs)(Z.a,{m:3,children:[Object(je.jsx)(Pe.a,{variant:"h4",align:"center",children:"SignUp"}),Object(je.jsxs)("form",{onSubmit:s((function(e){return d(e)})),children:[Object(je.jsx)(vn,{name:"nickname",defaultValue:"",label:"NickName",variant:"outlined",margin:"normal",control:i,errors:r,disabled:u,fullWidth:!0}),Object(je.jsxs)(X.a,{container:!0,spacing:2,children:[Object(je.jsx)(X.a,{item:!0,xs:6,children:Object(je.jsx)(vn,{name:"familyname",defaultValue:"",label:"FamilyName",variant:"outlined",control:i,errors:r,disabled:u,fullWidth:!0})}),Object(je.jsx)(X.a,{item:!0,xs:6,children:Object(je.jsx)(vn,{name:"givenname",defaultValue:"",label:"GivenName",variant:"outlined",control:i,errors:r,disabled:u,fullWidth:!0})})]}),Object(je.jsx)(vn,{type:"email",name:"email",defaultValue:"",label:"Email",variant:"outlined",margin:"normal",control:i,errors:r,disabled:u,fullWidth:!0}),Object(je.jsx)(vn,{type:"password",name:"password",defaultValue:"",label:"Password",variant:"outlined",margin:"normal",control:i,errors:r,disabled:u,fullWidth:!0}),Object(je.jsx)(vn,{type:"password",name:"password_confirmation",defaultValue:"",label:"PasswordConfirmation",variant:"outlined",margin:"normal",control:i,errors:r,disabled:u,fullWidth:!0}),Object(je.jsx)(kn,{type:"submit",loading:u,color:"primary",fullWidth:!0,children:"SignUp"})]})]})},An=function(){var e=Object(Y.f)();return Object(je.jsx)(Ct,{children:Object(je.jsx)(kt.a,{maxWidth:"xs",children:Object(je.jsx)(le.a,{variant:"outlined",children:Object(je.jsx)(Un,{onSuccess:function(){return e.push("/")}})})})})},wn=n(78),Ln=n(414),Nn=n(113),Mn=function(){return Object(je.jsx)(Ln.a,{children:Object(je.jsx)(Nn.c,{})})},Tn=n(1250),Rn=function(e){var t=e.href,n=e.windowFeatures,a=e.children,c=e.onWindow;return Object(je.jsx)(Tn.a,{component:re.a,rel:"noopener noreferrer",disabled:!t,onClick:function(){var e=window.open(t,void 0,n);c&&c(e)},children:a})};Rn.defaultProps={href:void 0,windowFeatures:void 0,onWindow:void 0};var Bn=Rn,qn=function(e){var t=e.artists,n=e.page,a=e.pageCount,c=e.onPage,r=e.loading;return Object(je.jsx)(Oe,{page:n,pageCount:a,onPage:c,loading:r,children:Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:G.ARTISTS,children:"Artists"})}),Object(je.jsx)(ne.a,{})]})}),Object(je.jsx)(te.a,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.ARTISTS,"/").concat(e.id),children:e.name})}),Object(je.jsx)(ne.a,{children:Object(je.jsx)(Bn,{href:e.link.twitter?"https://twitter.com/".concat(e.link.twitter):void 0,children:Object(je.jsx)(Mn,{})})})]},e.id)}))})]})})},Dn=n(385),_n=n.n(Dn),$n=["loading"],Vn=function(e){var t=e.loading,n=Object(mn.a)(e,$n);return Object(je.jsx)(je.Fragment,{children:t?Object(je.jsx)(gn.a,Object(On.a)({},n)):null})},Wn=["loading"],Fn=function(e){var t=e.loading,n=Object(mn.a)(e,Wn);return Object(je.jsx)(fn.a,Object(On.a)(Object(On.a)({},n),{},{variant:"outlined",InputProps:{startAdornment:Object(je.jsx)(_n.a,{}),endAdornment:Object(je.jsx)(Vn,{color:"inherit",size:20,loading:t})},fullWidth:!0}))},Kn=function(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],c=t[1],r=Object(wn.useDebounce)(n,1e3),i=Object(H.a)(r,2),o=i[0],s=i[1].isPending,l=It(),u=Object(H.a)(l,2),d=u[0],j=u[1],b=he().onError,O=Object(J.a)([me.ARTISTS,d,o],rn(d,{name_cont:o}),{onError:b}),m=O.isLoading,h=O.data;return Object(je.jsxs)(Ct,{children:[Object(je.jsx)(Fn,{onChange:function(e){return c(e.target.value)},loading:m||s()}),Object(je.jsx)(qn,{artists:null===h||void 0===h?void 0:h.data,loading:m,page:d,pageCount:null===h||void 0===h?void 0:h.pagination.totalPages,onPage:j})]})},Qn=function(e){var t=e.bands,n=e.page,a=e.pageCount,c=e.onPage,r=e.loading;return Object(je.jsx)(Oe,{page:n,pageCount:a,onPage:c,loading:r,children:Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsx)(ce.a,{children:Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.BANDS),children:"Band"})})})}),Object(je.jsx)(te.a,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(je.jsx)(ce.a,{children:Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.BANDS,"/").concat(e.id),children:e.name})})},e.id)}))})]})})},zn=function(e){var t=e.albums,n=e.loading,a=e.page,c=e.pageCount,r=e.onPage,i=he().onError,o=t.map((function(e){return e.link.itunes})).join(","),l=0,u="",d=Object(J.a)([me.ITUNES,me.ALBUMS,o],(function(){return ge(o).then((function(e){return e.results}))}),{onError:i});return Object(je.jsx)(Oe,{page:a,pageCount:c,onPage:r,loading:n,children:Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{}),Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:G.ALBUMS,children:"Albums"})})]})}),Object(je.jsx)(te.a,{children:null===t||void 0===t?void 0:t.map((function(e){var t=e.id,n=e.title;return e.link.itunes&&d.data?(u=d.data[l].artworkUrl60,l+=1):u=void 0,Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:u&&Object(je.jsx)(oe.a,{src:u})}),Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.ALBUMS,"/").concat(t),children:n})})]},t)}))})]})})},Yn=n(387),Gn=n.n(Yn),Hn=function(e){var t=e.children,n=e.href,a=e.startIcon;return Object(je.jsx)(Ee.a,{startIcon:a,component:re.a,href:n,target:"_blank",rel:"noopener noreferrer",disabled:!n,children:t})},Jn=n(386),Xn=function(){return Object(je.jsx)(Ln.a,{children:Object(je.jsx)(Jn.a,{size:23})})},Zn=function(e){var t=e.color;return Object(je.jsx)(Ln.a,{color:t,children:Object(je.jsx)(Nn.d,{})})},ea=function(){return Object(je.jsx)(Ln.a,{children:Object(je.jsx)(Nn.b,{size:24})})},ta=function(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],c=t[1];return[n,Object(a.useCallback)((function(){c(!0)}),[]),Object(a.useCallback)((function(){return c(!1)}),[])]},na=function(e){var t=e.itunes,n=e.twitter,a=e.spotify,c=e.wikipedia,r=e.musixmatch,i=e.loading,o=ta(),s=Object(H.a)(o,3),l=s[0],u=s[1],d=s[2],j=ta(),b=Object(H.a)(j,3),O=b[0],m=b[1],h=b[2],f=ta(),x=Object(H.a)(f,3),p=x[0],v=x[1],g=x[2],S=ta(),k=Object(H.a)(S,3),C=k[0],I=k[1],y=k[2],E=ta(),P=Object(H.a)(E,3),U=P[0],A=P[1],w=P[2];return Object(je.jsxs)(ue.a,{component:le.a,children:[Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"Link"}),Object(je.jsx)(ne.a,{children:"Edit"})]})}),Object(je.jsxs)(te.a,{children:[n&&Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:Object(je.jsx)(Hn,{startIcon:Object(je.jsx)(Mn,{}),href:n.link?"https://twitter.com/".concat(n.link):void 0,children:"twitter"})}),Object(je.jsxs)(ne.a,{children:[Object(je.jsx)(Ee.a,{variant:"text",onClick:m,children:"Edit"}),n.renderDialog(O,h)]})]}),t&&Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:Object(je.jsx)(Hn,{startIcon:Object(je.jsx)(Xn,{}),href:t.link,children:"itunes"})}),Object(je.jsxs)(ne.a,{children:[Object(je.jsx)(Ee.a,{variant:"text",onClick:u,children:"Edit"}),t.renderDialog(l,d)]})]}),a&&Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:Object(je.jsx)(Hn,{startIcon:Object(je.jsx)(ea,{}),href:a.link?"https://open.spotify.com/".concat(a.type,"/").concat(a.link):void 0,children:"spotify"})}),Object(je.jsxs)(ne.a,{children:[Object(je.jsx)(Ee.a,{variant:"text",onClick:v,children:"Edit"}),a.renderDialog(p,g)]})]}),r&&Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:Object(je.jsxs)(Z.a,{display:"flex",alignItems:"cneter",children:[Object(je.jsx)(Z.a,{mr:1,children:Object(je.jsx)(Gn.a,{color:r.link?void 0:"action"})}),"MUSIXMATCH"]})}),Object(je.jsxs)(ne.a,{children:[Object(je.jsx)(Ee.a,{variant:"text",onClick:A,children:"Edit"}),r.renderDialog(U,w)]})]}),c&&Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:Object(je.jsx)(Hn,{startIcon:Object(je.jsx)(Zn,{}),href:c.link?"https://ja.wikipedia.org/?curid=".concat(c.link):void 0,children:"wikipedia"})}),Object(je.jsxs)(ne.a,{children:[Object(je.jsx)(Ee.a,{variant:"text",onClick:I,children:"Edit"}),c.renderDialog(C,y)]})]})]})]}),i&&Object(je.jsx)(se.a,{})]})};na.defaultProps={itunes:void 0,twitter:void 0,spotify:void 0,wikipedia:void 0,musixmatch:void 0,loading:!1},na.whyDidYouRender=!0;var aa=na,ca=n(389),ra=n.n(ca),ia=n(388),oa=n.n(ia),sa=["count","bookmarked","onCreate","onDestroy"],la=function(e){var t=e.count,n=e.bookmarked,a=e.onCreate,c=e.onDestroy,r=Object(mn.a)(e,sa);return Object(je.jsx)(Tn.a,Object(On.a)(Object(On.a)({},r),{},{onClick:n?c:a,children:n?Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Pe.a,{children:t||0}),Object(je.jsx)(oa.a,{color:"error"})]}):Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Pe.a,{children:t||0}),Object(je.jsx)(ra.a,{color:"error"})]})}))},ua=function(e){var t=e.artist,n=t.artistName,a=t.artistLinkUrl;return Object(je.jsx)(Ce.a,{children:Object(je.jsx)(Z.a,{display:"flex",children:Object(je.jsx)(Z.a,{flex:"1",overflow:"hidden",children:Object(je.jsxs)(ye.a,{children:[Object(je.jsx)(Pe.a,{children:n}),Object(je.jsx)(Ee.a,{href:a,target:"_blank",rel:"noopener noreferrer",onClick:function(e){return e.stopPropagation()},children:"itunes"})]})})})})},da=n(1277),ja=n(1251);function ba(e){var t,n,c,r,i=e.defaultValue,o=e.open,s=e.title,l=e.showSearchBar,u=e.useQueryArgs,d=e.children,j=e.onClose,b=e.onSelect,O=Object(a.useState)(""),m=Object(H.a)(O,2),h=m[0],f=m[1],x=It(),p=Object(H.a)(x,2),v=p[0],g=p[1],S=Object(wn.useDebounce)(h,1e3),k=Object(H.a)(S,2),C=k[0],I=k[1].isPending,y=he().onError,E=Object(J.a)([].concat(Object(qe.a)(u.key),[C,v]),(function(){return u.fn({term:C,page:v})}),Object(On.a)({enabled:!!C&&!I()&&o,onError:y},u.options));return Object(a.useEffect)((function(){i&&f(i)}),[i]),Object(je.jsxs)(da.a,{open:o,onClose:j,fullWidth:!0,children:[Object(je.jsxs)(ja.a,{children:["Choose ",s]}),Object(je.jsxs)(Z.a,{p:3,children:[l&&Object(je.jsx)(fn.a,{id:"",label:"",defaultValue:i,value:h,variant:"outlined",onChange:function(e){return f(e.target.value)},fullWidth:!0}),E.isLoading&&Object(je.jsx)(se.a,{}),null===(t=E.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.map((function(e,t){return d(e,function(e){return function(){var t;j(),(null===(t=E.data)||void 0===t?void 0:t.data)&&b(E.data.data[e])}}(t))})),Object(je.jsx)(Z.a,{display:"flex",justifyContent:"center",children:(null===(c=E.data)||void 0===c?void 0:c.pageCount)&&Object(je.jsx)(de.a,{page:v,count:null===(r=E.data)||void 0===r?void 0:r.pageCount,onChange:g})})]})]})}ba.defaultProps={value:"",showSearchBar:!1,onChange:void 0};var Oa=ba;var ma=function(e){var t=e.defaultValue,n=e.open,a=e.showSearchBar,c=e.onClose,r=e.onSelect;return Object(je.jsx)(Oa,{defaultValue:t,title:"Album",open:n,showSearchBar:a,useQueryArgs:{key:[me.ITUNES,me.ALBUMS],fn:function(e){return function(e,t){return pe.jsonp("/search",{params:{entity:"musicArtist",term:e,limit:400,offset:t}})}(e.term,e.page).then((function(e){return{data:e.results}}))}},onSelect:r,onClose:c,children:function(e,t){return Object(je.jsx)(Z.a,{mb:2,onClick:t,children:Object(je.jsx)(ua,{artist:e})},e.artistId)}})},ha=n(38),fa=n.n(ha),xa=n(65),pa=n(1254),va=n(1252),ga=n(1253),Sa=function(){return Object(je.jsx)(Ee.a,{startIcon:Object(je.jsx)(ea,{}),component:re.a,onClick:function(){window.open("https://accounts.spotify.com/authorize?response_type=code&client_id=".concat("3f35b18cccb84c7fa03754a435abf551","&redirect_uri=").concat(encodeURIComponent(window.location.origin),"&scope=").concat(encodeURIComponent("user-read-email")),void 0,"top=100,left=100,width=500,height=700")},rel:"noopener noreferrer",children:"Sign in Spotify"})},ka=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MUSIXMATCH_KEY:"8e8664c1c915c7da0340999018e703d3",REACT_APP_SPOTIFY_KEY:"3f35b18cccb84c7fa03754a435abf551",REACT_APP_SPOTIFY_SECRET_KEY:"3edc70893d3f41a6ba33011e227824d7"}),Ca=ka.REACT_APP_SPOTIFY_KEY,Ia=ka.REACT_APP_SPOTIFY_SECRET_KEY,ya=btoa("".concat(Ca||"",":").concat(Ia||"")),Ea=un.a.create({baseURL:"https://api.spotify.com/v1/"}),Pa=un.a.create({baseURL:"https://accounts.spotify.com/api",headers:{Authorization:"Basic ".concat(ya),"Content-Type":"application/x-www-form-urlencoded"}});function Ua(e,t,n,a){return Ea.get("/search",{params:{q:t,type:e,offset:n-1},headers:Object(On.a)({},{Authorization:"Bearer ".concat(a||"")})}).then((function(e){return e.data}))}var Aa=function(e){var t=e.open,n=e.onClose,c=e.children,r=Object(j.c)(w),i=Object(j.b)(),o=Object(a.useCallback)(function(){var e=Object(xa.a)(fa.a.mark((function e(t){var n,a;return fa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new URLSearchParams).append("code",t),n.append("grant_type","authorization_code"),n.append("redirect_uri",window.location.origin),e.next=6,Pa.post("/token",n);case 6:a=e.sent,i(N(a.data));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]);return Object(a.useEffect)((function(){window.getSpotifyCode=o}),[o]),r?Object(je.jsx)(je.Fragment,{children:c({handleError:function(){i(M())}})}):Object(je.jsxs)(da.a,{open:t,onClose:n,fullWidth:!0,children:[Object(je.jsx)(ja.a,{children:"Spotify need SignIn"}),Object(je.jsx)(va.a,{children:Object(je.jsx)(ga.a,{children:Object(je.jsx)(Sa,{})})}),Object(je.jsx)(pa.a,{children:Object(je.jsx)(Ee.a,{onClick:n,color:"default",children:"Cancel"})})]})},wa=n(208),La=n.n(wa),Na=La()({media:{height:100,width:100}}),Ma=function(e){var t=e.artist,n=Na();return Object(je.jsx)(Ce.a,{children:Object(je.jsxs)(Z.a,{display:"flex",children:[Object(je.jsx)(Z.a,{display:"flex",justifyItems:"center",alignItems:"center",m:1,children:Object(je.jsx)(xt.a,{image:t.images[0].url,className:n.media})}),Object(je.jsxs)(ye.a,{children:[Object(je.jsx)(Pe.a,{noWrap:!0,children:t.name}),Object(je.jsx)(Pe.a,{color:"textSecondary",noWrap:!0})]})]})})};var Ta=function(e){var t=e.defaultValue,n=e.open,a=e.showSearchBar,c=e.onClose,r=e.onSelect,i=Object(j.c)(w);return Object(je.jsx)(Aa,{open:n,onClose:c,children:function(e){var o=e.handleError;return Object(je.jsx)(Oa,{defaultValue:t,title:"Spotify",open:n,useQueryArgs:{key:[me.SPOTIFY,me.ALBUMS],fn:function(e){return Ua("artist",e.term,e.page,null===i||void 0===i?void 0:i.access_token).then((function(e){return{data:e.artists.items,page:e.artists.offset,pageCount:Math.floor(e.artists.total/e.artists.limit)}}))},options:{onError:o}},showSearchBar:a,onSelect:r,onClose:c,children:function(e,t){return Object(je.jsx)(Z.a,{mb:2,onClick:t,children:Object(je.jsx)(Ma,{artist:e})},e.id)}})}})},Ra="https://twitter.com/",Ba=function(e){var t=e.loading,n=e.open,c=e.defaultValue,r=e.onPatch,i=e.onClose,o=Object(a.useState)(""),s=Object(H.a)(o,2),l=s[0],u=s[1];return Object(je.jsxs)(da.a,{open:n,onClose:i,fullWidth:!0,children:[Object(je.jsx)(ja.a,{children:"Twitter"}),Object(je.jsxs)(Z.a,{p:3,children:[Object(je.jsx)(fn.a,{name:"twitter",label:Ra,variant:"outlined",value:l,defaultValue:c,onChange:function(e){return u(e.target.value.replace(Ra,""))},fullWidth:!0}),Object(je.jsx)(kn,{fullWidth:!0,color:"primary",loading:t,onClick:function(){i(),r(l)},children:"UPDATE"})]})]})},qa=function(e){var t=e.wikipedia.title;return Object(je.jsx)("div",{children:Object(je.jsx)("p",{children:t})})},Da=xe.a.create({baseURL:"https://ja.wikipedia.org/w/api.php"}),_a=function(e){return Da.jsonp("",{params:{format:"json",action:"query",prop:"extracts",explaintext:!0,exintro:!0,pageids:e}}).then((function(t){return t.query.pages[e||0]}))};var $a=function(e){var t=e.defaultValue,n=e.open,a=e.showSearchBar,c=e.onClose,r=e.onSelect;return Object(je.jsx)(Oa,{defaultValue:t,title:"Wikipedia",open:n,showSearchBar:a,useQueryArgs:{key:[me.WIKIPEDIA],fn:function(e){var t,n,a=e.term,c=e.page;return(t=a,n=c,Da.jsonp("",{params:{format:"json",action:"query",list:"search",srsearch:t,sroffset:n}})).then((function(e){return{data:e.query.search,pageCount:Math.floor(e.query.searchinfo.totalhits/e.continue.sroffset)}}))}},onSelect:r,onClose:c,children:function(e,t){return Object(je.jsx)(Z.a,{mb:2,onClick:t,children:Object(je.jsx)(qa,{wikipedia:e})},e.pageid)}})};un.a.defaults.baseURL="http://localhost";var Va=function(){var e,t,n,a,c,r,i,o,s,l,d,b,O,m,h,f,x,p=It(),v=Object(H.a)(p,2),g=v[0],C=v[1],I=It(),E=Object(H.a)(I,2),P=E[0],U=E[1],A=Object(Y.h)(),w=Number(A.id),L=he().onError,N=Object(j.c)(k),M=Object(j.c)(S),T=Object(j.b)(),R=Object(u.b)(),B=Object(J.a)([me.ARTIST,w],function(e,t){return function(){return nn.request(wt,{id:e,currentUserId:t}).then((function(e){return e.artist}))}}(w,null===M||void 0===M?void 0:M.id),{onError:L}),q=Object(J.a)([me.ARTIST,w,me.ALBUMS,g],function(e,t){return function(){return nn.request(Lt,{id:e,albumPage:t}).then((function(e){return e.artist.albums}))}}(w,g),{onError:L}),D=Object(J.a)([me.ARTIST,w,me.MUSICS,P],function(e,t){return function(){return nn.request(Nt,{id:e,musicPage:t}).then((function(e){return e.artist.musics}))}}(w,P),{onError:L}),_=Object(J.a)([me.WIKIPEDIA,null===(e=B.data)||void 0===e?void 0:e.link.wikipedia],(function(){var e;return _a(null===(e=B.data)||void 0===e?void 0:e.link.wikipedia)}),{enabled:!!(null===(t=B.data)||void 0===t?void 0:t.link.wikipedia),onError:L}),$=Object(J.a)([me.ITUNES,me.ARTIST,null===(n=B.data)||void 0===n?void 0:n.link.itunes],(function(){var e;return ve(null===(e=B.data)||void 0===e?void 0:e.link.itunes).then((function(e){return e.results[0]}))}),{enabled:!!(null===(a=B.data)||void 0===a?void 0:a.link.itunes),onError:L}),V=Object(jn.a)((function(){return function(e,t){return un.a.post("".concat(G.ARTISTS,"/").concat(e).concat(G.BOOKMARKS),void 0,t)}(w,N)}),{onSuccess:function(e){T(y(e.headers)),R.setQueryData([me.ARTIST,w],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{bookmark:e.data,bookmarksCount:t.bookmarksCount+1})}))},onError:L}),W=Object(jn.a)((function(){var e,t;return function(e,t,n){return un.a.delete("".concat(G.ARTISTS,"/").concat(e).concat(G.BOOKMARKS,"/").concat(t||"undefined"),n)}(w,null===(e=B.data)||void 0===e||null===(t=e.bookmark)||void 0===t?void 0:t.id,N)}),{onSuccess:function(e){T(y(e.headers)),R.setQueryData([me.ARTIST,w],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{bookmark:void 0,bookmarksCount:e.bookmarksCount-1})}))},onError:L}),F=Object(jn.a)((function(e){var t;return function(e,t,n,a){return un.a.patch("".concat(G.ARTISTS,"/").concat(e).concat(G.LINKS,"/").concat(t||"undefined"),n,Object(On.a)({},a))}(w,null===(t=B.data)||void 0===t?void 0:t.link.id,e,N)}),{onSuccess:function(e){T(y(e.headers)),R.setQueryData([me.ARTIST,w],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{link:e.data})}))},onError:L}),K=function(e){return F.mutate({itunes:e.artistId})},Q=function(e){return F.mutate({wikipedia:e.pageid})},z=function(e){return F.mutate({spotify:e.id})},ee=function(e){return F.mutate({twitter:e})};return Object(je.jsxs)(Ct,{children:[Object(je.jsxs)(X.a,{container:!0,children:[Object(je.jsx)(X.a,{item:!0,xs:11,children:Object(je.jsxs)(Pe.a,{variant:"h5",children:[Object(je.jsx)(Le.a,{}),null===(c=B.data)||void 0===c?void 0:c.name]})}),Object(je.jsx)(X.a,{item:!0,xs:1,children:Object(je.jsx)(la,{count:null===(r=B.data)||void 0===r?void 0:r.bookmarksCount,bookmarked:!!(null===(i=B.data)||void 0===i?void 0:i.bookmark)||!1,onCreate:function(){return V.mutate()},onDestroy:function(){return W.mutate()}})})]}),Object(je.jsx)(Z.a,{children:Object(je.jsx)(Pe.a,{variant:"body1",color:"initial",children:null===(o=_.data)||void 0===o?void 0:o.extract})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(aa,{twitter:{link:null===(s=B.data)||void 0===s?void 0:s.link.twitter,renderDialog:function(e,t){var n;return Object(je.jsx)(Ba,{defaultValue:(null===(n=B.data)||void 0===n?void 0:n.link.twitter)||void 0,open:e,loading:F.isLoading,onClose:t,onPatch:ee})}},itunes:{link:(null===(l=$.data)||void 0===l?void 0:l.artistLinkUrl)||"",renderDialog:function(e,t){var n;return Object(je.jsx)(ma,{defaultValue:null===(n=B.data)||void 0===n?void 0:n.name,open:e,onClose:t,onSelect:K,showSearchBar:!0})}},wikipedia:{link:null===(d=B.data)||void 0===d?void 0:d.link.wikipedia,renderDialog:function(e,t){var n;return Object(je.jsx)($a,{defaultValue:null===(n=B.data)||void 0===n?void 0:n.name,open:e,onClose:t,onSelect:Q,showSearchBar:!0})}},spotify:{type:"artist",link:null===(b=B.data)||void 0===b?void 0:b.link.spotify,renderDialog:function(e,t){var n;return Object(je.jsx)(Ta,{defaultValue:null===(n=B.data)||void 0===n?void 0:n.name,open:e,onClose:t,onSelect:z,showSearchBar:!0})}}})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(Qn,{bands:(null===(O=B.data)||void 0===O?void 0:O.bands)||[],loading:B.isLoading})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(zn,{albums:(null===(m=q.data)||void 0===m?void 0:m.data)||[],loading:q.isLoading,page:g,pageCount:null===(h=q.data)||void 0===h?void 0:h.pagination.totalPages,onPage:C})}),Object(je.jsx)(ke,{musics:(null===(f=D.data)||void 0===f?void 0:f.data)||[],loading:D.isLoading,page:P,pageCount:null===(x=D.data)||void 0===x?void 0:x.pagination.totalPages,onPage:U})]})},Wa=n(1285),Fa=function(e){return Object(je.jsx)(Ee.a,Object(On.a)(Object(On.a)({variant:"contained",color:"secondary"},e),{},{children:"Search by Itunes"}))},Ka=n(1273),Qa=n(1256);var za=function(e){var t=e.data,n=e.children;return(null===t||void 0===t?void 0:t.length)?Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Z.a,{my:3,children:Object(je.jsxs)(Ka.a,{severity:"warning",children:[Object(je.jsx)(Qa.a,{children:"Warning"}),"Already Existed \u2014 ",Object(je.jsx)("strong",{children:"check it out!"})]})}),Object(je.jsx)(Z.a,{mb:3,children:n})]}):Object(je.jsx)(je.Fragment,{})},Ya=function(){var e,t,n,c=It(),r=Object(H.a)(c,2),i=r[0],o=r[1],s=ta(),l=Object(H.a)(s,3),d=l[0],b=l[1],O=l[2],m=Object(a.useState)(),h=Object(H.a)(m,2),f=h[0],x=h[1],p=Object(dn.d)(),v=p.errors,g=p.control,S=p.setValue,C=p.register,I=p.watch,E=p.handleSubmit,P=I().name,U=Object(Wa.a)(P,1e3),A=Object(H.a)(U,1)[0],w=Object(Y.f)(),L=Object(Y.i)().url.replace("/new",""),N=Object(j.b)(),M=Object(j.c)(k),T=he().onError,R=Object(u.b)(),B=Object(jn.a)((function(e){return function(e,t){return un.a.post(G.ARTISTS,e,t)}(e,M)}),{onSuccess:function(e){N(y(e.headers)),w.push("".concat(L,"/").concat(e.data.id)),R.setQueryData([me.ARTIST,e.data.id,{musicPage:1,albumPage:1}],e.data),f&&R.setQueryData([me.ITUNES,me.ARTIST,f.artistId],f)},onError:T}),q=Object(J.a)([me.ARTISTS,{page:i,query:A}],rn(1,{name_cont:A}),{enabled:!!A,onError:T});return Object(a.useEffect)((function(){if(C("link_attributes.itunes"),f){var e=f.artistName,t=f.artistId;S("link_attributes.itunes",t),S("name",e)}}),[C,f,S]),Object(je.jsx)(Ct,{children:Object(je.jsx)(le.a,{children:Object(je.jsxs)(Z.a,{p:3,children:[Object(je.jsx)(vn,{name:"name",defaultValue:"",autoComplete:"on",label:"Name",variant:"outlined",control:g,errors:v,disabled:B.isLoading,fullWidth:!0,InputProps:{endAdornment:Object(je.jsx)(Vn,{color:"inherit",size:20,loading:q.isLoading})}}),Object(je.jsx)(Fa,{onClick:b,disabled:!P,fullWidth:!0,disableElevation:!0}),Object(je.jsx)(ma,{defaultValue:P,open:d,onClose:O,onSelect:function(e){return x(e)}}),Object(je.jsx)(za,{data:null===(e=q.data)||void 0===e?void 0:e.data,children:Object(je.jsx)(qn,{artists:null===(t=q.data)||void 0===t?void 0:t.data,page:i,pageCount:null===(n=q.data)||void 0===n?void 0:n.pagination.totalPages,onPage:o,loading:q.isLoading})}),Object(je.jsx)(kn,{color:"primary",disabled:!P,loading:B.isLoading,onClick:E((function(e){return B.mutate(e)})),fullWidth:!0,children:"Create Artist"})]})})})},Ga=function(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],c=t[1],r=Object(wn.useDebounce)(n,1e3),i=Object(H.a)(r,2),o=i[0],s=i[1].isPending,l=It(),u=Object(H.a)(l,2),d=u[0],j=u[1],b=he().onError,O=Object(J.a)([me.MUSICS,d,o],an(d,{title_cont:o}),{onError:b}),m=O.isLoading,h=O.data;return Object(je.jsxs)(Ct,{children:[Object(je.jsx)(Fn,{onChange:function(e){return c(e.target.value)},loading:m||s()}),Object(je.jsx)(ke,{musics:(null===h||void 0===h?void 0:h.data)||[],loading:m,page:d,pageCount:null===h||void 0===h?void 0:h.pagination.totalPages,onPage:j})]})},Ha=n(1262),Ja=n(1193),Xa=n(1268),Za=Object(ft.a)({media:{height:100,width:100}}),ec=function(e){var t=e.music,n=t.artworkUrl100,a=t.artistName,c=t.collectionCensoredName,r=t.trackCensoredName,i=t.trackViewUrl,o=Za();return Object(je.jsx)(Ce.a,{children:Object(je.jsxs)(Z.a,{display:"flex",children:[Object(je.jsx)(Z.a,{display:"flex",justifyItems:"center",alignItems:"center",mx:1,children:Object(je.jsx)(xt.a,{image:n,className:o.media})}),Object(je.jsxs)(ye.a,{children:[Object(je.jsx)(Pe.a,{noWrap:!0,children:r}),Object(je.jsx)(Pe.a,{color:"textSecondary",noWrap:!0,children:a}),Object(je.jsx)(Pe.a,{color:"textSecondary",noWrap:!0,children:c}),Object(je.jsx)(Ee.a,{href:i,target:"_blank",rel:"noopener noreferrer",onClick:function(e){return e.stopPropagation()},children:"itunes"})]})]})})};var tc=function(e){var t=e.defaultValue,n=e.open,a=e.showSearchBar,c=e.onClose,r=e.onSelect;return Object(je.jsx)(Oa,{defaultValue:t,title:"Album",open:n,showSearchBar:a,useQueryArgs:{key:[me.ITUNES,me.ALBUMS],fn:function(e){return function(e,t){return pe.jsonp("/search",{params:{entity:"song",term:e,limit:400,offset:t}})}(e.term,e.page).then((function(e){return{data:e.results}}))}},onSelect:r,onClose:c,children:function(e,t){return Object(je.jsx)(Z.a,{mb:2,onClick:t,children:Object(je.jsx)(ec,{music:e})},e.trackId)}})},nc=function(e){var t=e.music.track;return Object(je.jsx)(Ce.a,{children:Object(je.jsxs)(ye.a,{children:[Object(je.jsx)(Pe.a,{children:t.track_name}),Object(je.jsx)(Pe.a,{children:t.album_name}),Object(je.jsx)(Pe.a,{children:t.artist_name})]})})},ac=xe.a.create({baseURL:"https://api.musixmatch.com/ws/1.1",params:{apikey:"8e8664c1c915c7da0340999018e703d3"}});var cc=function(e){var t=e.defaultValue,n=e.open,a=e.showSearchBar,c=e.onClose,r=e.onSelect;return Object(je.jsx)(Oa,{defaultValue:t,title:"Musixmatch",open:n,useQueryArgs:{key:[me.MUSIXMATCH],fn:function(e){var t,n=e.term;return(t=n,ac.jsonp("track.search",{params:{q_track:t}})).then((function(e){return{data:e.message.body.track_list}}))}},showSearchBar:a,onSelect:r,onClose:c,children:function(e,t){return Object(je.jsx)(Z.a,{mb:2,onClick:t,children:Object(je.jsx)(nc,{music:e})},e.track.track_id)}})},rc=Object(ft.a)({media:{height:100,width:100}}),ic=function(e){var t=e.track,n=rc();return Object(je.jsx)(Ce.a,{children:Object(je.jsxs)(Z.a,{display:"flex",children:[Object(je.jsx)(Z.a,{display:"flex",justifyItems:"center",alignItems:"center",m:1,children:Object(je.jsx)(xt.a,{image:t.album.images[0].url,className:n.media})}),Object(je.jsxs)(ye.a,{children:[Object(je.jsx)(Pe.a,{noWrap:!0,children:t.name}),Object(je.jsx)(Pe.a,{color:"textSecondary",noWrap:!0}),Object(je.jsx)(Pe.a,{color:"textSecondary",noWrap:!0,children:t.artists.map((function(e){return e.name}))})]})]})})};var oc=function(e){var t=e.defaultValue,n=e.open,a=e.showSearchBar,c=e.onClose,r=e.onSelect,i=Object(j.c)(w);return Object(je.jsx)(Aa,{open:n,onClose:c,children:function(e){var o=e.handleError;return Object(je.jsx)(Oa,{defaultValue:t,title:"Spotify",open:n,useQueryArgs:{key:[me.SPOTIFY,me.ALBUMS],fn:function(e){return Ua("track",e.term,e.page,null===i||void 0===i?void 0:i.access_token).then((function(e){return{data:e.tracks.items,page:e.tracks.offset,pageCount:Math.floor(e.tracks.total/e.tracks.limit)}}))},options:{onError:o}},showSearchBar:a,onSelect:r,onClose:c,children:function(e,t){return Object(je.jsx)(Z.a,{mb:2,onClick:t,children:Object(je.jsx)(ic,{track:e})},e.id)}})}})},sc=n(56),lc=n.n(sc),uc=n(1270);function dc(e){var t=e.maxLength,n=e.onSelectOption,c=e.onRemoveOption,r=e.textFieldProps,i=e.autocompleteProps,o=Object(a.useState)(!1),s=Object(H.a)(o,2),l=s[0],u=s[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=j[0],O=j[1],m=ta(),h=Object(H.a)(m,3),f=h[0],x=h[1],p=h[2];return Object(a.useEffect)((function(){O((null===i||void 0===i?void 0:i.value)||[])}),[i.inputValue,null===i||void 0===i?void 0:i.value]),Object(je.jsx)(uc.a,Object(On.a)(Object(On.a)({},i),{},{open:f,disabled:l,getOptionDisabled:function(){return!!t&&b.length>=t},noOptionsText:"No Results",onChange:function(e,t,a){if(t&&Array.isArray(t)){switch(u(!0),a){case"select-option":n&&n(t[t.length-1],t);break;case"remove-option":var r=b.filter((function(e){return!t.includes(e)}))[0];c&&c(r,t)}u(!1),O(t)}},onOpen:x,onClose:p,renderInput:function(e){return Object(je.jsx)(fn.a,Object(On.a)(Object(On.a)(Object(On.a)({},e),r),{},{InputProps:Object(On.a)(Object(On.a)(Object(On.a)({},r.InputProps),e.InputProps),{},{endAdornment:Object(je.jsxs)(je.Fragment,{children:[i.loading?Object(je.jsx)(gn.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}}))}dc.defaultProps={onSelectOption:void 0,onRemoveOption:void 0,maxLength:void 0};var jc=dc,bc=function(){var e,t=Object(a.useState)(""),n=Object(H.a)(t,2),c=n[0],r=n[1],i=he().onError,o=lc()(c,1e3),s=Object(H.a)(o,2),l=s[0],d=s[1].isPending,b=Object(j.c)(k),O=Object(j.b)(),m=Object(Y.h)(),h=Number(m.id),f=Number(m.userId),x=Object(u.b)(),p=x.getQueryData([me.MUSIC,h]),v=Object(jn.a)((function(e){var t=e.option;return function(e,t,n,a){return un.a.post("".concat(G.USERS,"/").concat(e).concat(G.MUSICS,"/").concat(t).concat(G.COMPOSERS),n,a)}(f,h,t,b)}),{onSuccess:function(e,t){var n=t.options;O(y(e.headers)),x.setQueryData([me.MUSIC,h],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{composers:n})}))},onError:i}),g=Object(jn.a)((function(e){var t=e.option;return function(e,t,n,a){return un.a.delete("".concat(G.USERS,"/").concat(e).concat(G.MUSICS,"/").concat(t).concat(G.COMPOSERS,"/").concat(n),a)}(f,h,t.id,b)}),{onSuccess:function(e,t){var n=t.options;O(y(e.headers)),x.setQueryData([me.MUSIC,h],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{composers:n})}))},onError:i}),S=Object(J.a)([me.ARTISTS,{query:l}],rn(1,{name_eq:l}),{enabled:!!l,onError:i});return Object(je.jsx)(jc,{onSelectOption:function(e,t){return v.mutate({option:e,options:t})},onRemoveOption:function(e,t){return g.mutate({option:e,options:t})},textFieldProps:{label:"Composers",variant:"outlined",margin:"normal"},autocompleteProps:{multiple:!0,value:(null===p||void 0===p?void 0:p.composers)||[],options:(null===(e=S.data)||void 0===e?void 0:e.data)||[],loading:v.isLoading||g.isLoading||d(),getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},onInputChange:function(e,t){return r(t)}}})},Oc=function(){var e,t=Object(a.useState)(""),n=Object(H.a)(t,2),c=n[0],r=n[1],i=he().onError,o=lc()(c,1e3),s=Object(H.a)(o,2),l=s[0],d=s[1].isPending,b=Object(j.c)(k),O=Object(j.b)(),m=Object(Y.h)(),h=Number(m.id),f=Number(m.userId),x=Object(u.b)(),p=x.getQueryData([me.MUSIC,h]),v=Object(jn.a)((function(e){var t=e.option;return function(e,t,n,a){return un.a.post("".concat(G.USERS,"/").concat(e).concat(G.MUSICS,"/").concat(t).concat(G.LYRISTS),n,a)}(f,h,t,b)}),{onSuccess:function(e,t){var n=t.options;O(y(e.headers)),x.setQueryData([me.MUSIC,h],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{lyrists:n})}))},onError:i}),g=Object(jn.a)((function(e){var t=e.option;return function(e,t,n,a){return un.a.delete("".concat(G.USERS,"/").concat(e).concat(G.MUSICS,"/").concat(t).concat(G.LYRISTS,"/").concat(n),a)}(f,h,t.id,b)}),{onSuccess:function(e,t){var n=t.options;O(y(e.headers)),x.setQueryData([me.MUSIC,h],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{lyrists:n})}))},onError:i}),S=Object(J.a)([me.ARTISTS,{query:l}],rn(1,{name_eq:l}),{enabled:!!l,onError:i});return Object(je.jsx)(jc,{onSelectOption:function(e,t){return v.mutate({option:e,options:t})},onRemoveOption:function(e,t){return g.mutate({option:e,options:t})},textFieldProps:{label:"Lyrists",variant:"outlined",margin:"normal"},autocompleteProps:{multiple:!0,value:(null===p||void 0===p?void 0:p.lyrists)||[],options:(null===(e=S.data)||void 0===e?void 0:e.data)||[],loading:v.isLoading||g.isLoading||d(),getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},onInputChange:function(e,t){return r(t)}}})},mc=function(){var e,t=Object(a.useState)(""),n=Object(H.a)(t,2),c=n[0],r=n[1],i=he().onError,o=lc()(c,1e3),s=Object(H.a)(o,2),l=s[0],d=s[1].isPending,b=Object(j.c)(k),O=Object(j.b)(),m=Object(Y.i)(),h=Number(m.params.id),f=Object(u.b)(),x=f.getQueryData([me.MUSIC,h]),p=Object(jn.a)((function(e){var t=e.option;return un.a.post(m.url+G.BANDS,t,b)}),{onSuccess:function(e,t){var n=t.option;O(y(e.headers)),f.setQueryData([me.MUSIC,h],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{band:n})}))},onError:i}),v=Object(jn.a)((function(e){var t=e.option;return un.a.delete("".concat(m.url+G.BANDS,"/").concat(t.id),b)}),{onSuccess:function(e){O(y(e.headers)),f.setQueryData([me.MUSIC,h],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{band:null})}))},onError:i}),g=Object(J.a)([me.BANDS,{query:l}],cn(1,{name_cont:l}),{enabled:!!l,onError:i});return Object(je.jsx)(jc,{maxLength:1,onSelectOption:function(e,t){return p.mutate({option:e,options:t})},onRemoveOption:function(e,t){return v.mutate({option:e,options:t})},textFieldProps:{label:"Band",variant:"outlined",margin:"normal"},autocompleteProps:{multiple:!0,options:(null===(e=g.data)||void 0===e?void 0:e.data)||[],value:(null===x||void 0===x?void 0:x.band)?[x.band]:[],inputValue:c,loading:p.isLoading||v.isLoading||d(),getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},onInputChange:function(e,t,n){return"input"===n&&r(t)}}})},hc=function(){var e=ta(),t=Object(H.a)(e,3),n=t[0],a=t[1],c=t[2];return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Ee.a,{onClick:a,children:"Edit"}),Object(je.jsx)(da.a,{onClose:c,open:n,fullWidth:!0,children:Object(je.jsx)(kt.a,{children:Object(je.jsxs)(Z.a,{mb:3,children:[Object(je.jsx)(ja.a,{children:"Edit Info"}),Object(je.jsx)(bc,{}),Object(je.jsx)(Oc,{}),Object(je.jsx)(mc,{})]})})})]})},fc=n(1257),xc=n(114),pc=n.n(xc),vc=n(1272),gc=["name","defaultValue","onChange","onKeyPress","control","rules","children"],Sc=function(e){var t=e.name,n=e.defaultValue,a=e.onChange,c=e.onKeyPress,r=e.control,i=e.rules,o=e.children,s=Object(mn.a)(e,gc),l=Object(dn.c)({name:t,control:r,rules:i,defaultValue:n}),u=l.field,d=u.ref,j=u.value,b=u.onChange,O=l.meta.invalid;return Object(je.jsx)(vc.a,Object(On.a)(Object(On.a)({},s),{},{value:j,inputRef:d,error:O,onChange:function(e,t){a&&a(e,t),b(e.target.value)},onKeyPress:function(e){c&&c(e)},children:o}))};Sc.defaultProps={rules:{}};var kc=Sc,Cc=Cn.b().shape({artist_id:Cn.a().required(),role:Cn.a().required()}),Ic=Cn.b().shape({email:Cn.d().email().required(),nickname:Cn.d().required().min(4).max(30),familyname:Cn.d().required().max(35),givenname:Cn.d().required().max(35),introduction:Cn.d()}),yc=Cn.b().shape({title:Cn.d().required(),description:Cn.d().required()}),Ec=Cn.b().shape({email:Cn.d().email().required(),description:Cn.d().required()}),Pc=function(){var e,t,n=Object(a.useState)(""),c=Object(H.a)(n,2),r=c[0],i=c[1],o=ta(),l=Object(H.a)(o,3),d=l[0],b=l[1],O=l[2],m=lc()(r,1e3),h=Object(H.a)(m,1)[0],f=Object(dn.d)({defaultValues:{artist_id:void 0},resolver:Object(bn.a)(Cc)}),x=f.control,p=f.handleSubmit,v=f.setValue,g=f.register,S=he().onError,C=Object(Y.i)(),I=Number(C.params.id),E=C.url+G.ARTISTS,P=Object(j.b)(),U=Object(j.c)(k),A=Object(u.b)(),w=A.getQueryData([me.MUSIC,I]),L=Object(jn.a)((function(e){return un.a.post(E,e,U)}),{onSuccess:function(e){P(y(e.headers)),A.setQueryData([me.MUSIC,I],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{artistMusics:[].concat(Object(qe.a)(t.artistMusics||[]),[e.data])})}))},onError:S}),N=Object(jn.a)((function(e){return un.a.delete("".concat(E,"/").concat(e.id),U)}),{onSuccess:function(e,t){P(y(e.headers)),A.setQueryData([me.MUSIC,I],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{artistMusics:e.artistMusics&&e.artistMusics.filter((function(e){return e!==t}))})}))},onError:S}),M=Object(J.a)([me.ARTISTS,{query:h}],rn(1,{name_cont:h}),{enabled:!!h,onError:S});return Object(a.useEffect)((function(){g("artist_id")}),[g]),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Ee.a,{onClick:b,children:"Edit"}),Object(je.jsxs)(da.a,{onClose:O,open:d,fullWidth:!0,children:[Object(je.jsx)(ja.a,{children:"Role"}),Object(je.jsxs)(kt.a,{children:[Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(ue.a,{component:le.a,children:Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"Role"}),Object(je.jsx)(ne.a,{children:"Artist"}),Object(je.jsx)(ne.a,{align:"right",children:"Delete"})]})}),Object(je.jsx)(te.a,{children:null===w||void 0===w||null===(e=w.artistMusics)||void 0===e?void 0:e.map((function(e){return Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:"/",children:e.role})}),Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.ARTISTS,"/").concat(e.artist.id),children:e.artist.name})}),Object(je.jsx)(ne.a,{align:"right",children:Object(je.jsx)(Tn.a,{onClick:function(){return N.mutate(e)},children:Object(je.jsx)(pc.a,{})})})]},e.id)}))})]})})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsxs)(X.a,{container:!0,spacing:1,children:[Object(je.jsx)(X.a,{item:!0,xs:3,children:Object(je.jsxs)(kc,{defaultValue:0,control:x,name:"role",variant:"outlined",fullWidth:!0,children:[Object(je.jsx)(fc.a,{value:0,children:"Vocal"}),Object(je.jsx)(fc.a,{value:1,children:"Guitar"}),Object(je.jsx)(fc.a,{value:2,children:"Base"}),Object(je.jsx)(fc.a,{value:3,children:"Drum"}),Object(je.jsx)(fc.a,{value:4,children:"Vocal&Guitar"}),Object(je.jsx)(fc.a,{value:5,children:"Vocal&Base"})]})}),Object(je.jsx)(X.a,{item:!0,xs:9,children:Object(je.jsx)(jc,{maxLength:1,onSelectOption:function(e){return v("artist_id",e.id)},onRemoveOption:function(){return v("artist_id","")},textFieldProps:{label:"Artist",variant:"outlined"},autocompleteProps:{multiple:!0,options:(null===(t=M.data)||void 0===t?void 0:t.data)||[],inputValue:r,getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},onInputChange:function(e,t,n){return"input"===n&&i(t)}}})})]})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(kn,{color:"primary",loading:L.isLoading,onClick:p((function(e){return L.mutate(e)})),fullWidth:!0,children:"Add Artist"})})]})]})]})},Uc=function(){var e,t,n=Object(a.useState)(""),c=Object(H.a)(n,2),r=c[0],i=c[1],o=ta(),l=Object(H.a)(o,3),d=l[0],b=l[1],O=l[2],m=lc()(r,1e3),h=Object(H.a)(m,2),f=h[0],x=h[1].isPending,p=Object(dn.d)(),v=p.register,g=p.handleSubmit,S=p.setValue,C=Object(Y.h)(),I=Number(C.userId),E=Number(C.id),P=Object(j.b)(),U=Object(j.c)(k),A=he().onError,w=Object(u.b)(),L=w.getQueryData([me.MUSIC,E]),N=Object(jn.a)((function(e){return function(e,t,n,a){return un.a.post("".concat(G.USERS,"/").concat(e).concat(G.MUSICS,"/").concat(t).concat(G.ALBUMS),n,Object(On.a)(Object(On.a)({},a),{},{"Key-inflection":"camel"}))}(I,E,e,U)}),{onSuccess:function(e){P(y(e.headers)),w.setQueryData([me.MUSIC,E],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{albums:[].concat(Object(qe.a)(t.albums||[]),[e.data.album])})}))},onError:A}),M=Object(jn.a)((function(e){return function(e,t,n,a){return un.a.delete("".concat(G.USERS,"/").concat(e).concat(G.MUSICS,"/").concat(t).concat(G.ALBUMS,"/").concat(n),a)}(I,E,e.id,U)}),{onSuccess:function(e,t){P(y(e.headers)),w.setQueryData([me.MUSIC,E],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{albums:e.albums&&e.albums.filter((function(e){return e!==t}))})}))},onError:A}),T=Object(J.a)([me.ALBUMS,{query:f}],on(1,{title_cont:f}),{enabled:!!f,onError:A});return Object(a.useEffect)((function(){v("album_id")}),[v]),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Ee.a,{onClick:b,children:"Edit"}),Object(je.jsxs)(da.a,{onClose:O,open:d,fullWidth:!0,children:[Object(je.jsx)(ja.a,{children:"Edit Albums"}),Object(je.jsxs)(kt.a,{children:[Object(je.jsx)(ue.a,{component:le.a,children:Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"Album"}),Object(je.jsx)(ne.a,{align:"right",children:"Delete"})]})}),Object(je.jsx)(te.a,{children:null===L||void 0===L||null===(e=L.albums)||void 0===e?void 0:e.map((function(e){return Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:"/",children:e.title})}),Object(je.jsx)(ne.a,{align:"right",children:Object(je.jsx)(Tn.a,{onClick:function(){return M.mutate(e)},children:Object(je.jsx)(pc.a,{})})})]},e.id)}))})]})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(jc,{maxLength:1,onSelectOption:function(e){return S("album_id",e.id)},onRemoveOption:function(){return S("album_id","")},textFieldProps:{label:"Albums",variant:"outlined",margin:"normal"},autocompleteProps:{options:(null===(t=T.data)||void 0===t?void 0:t.data)||[],multiple:!0,loading:N.isLoading||M.isLoading||x(),getOptionSelected:function(e,t){return e.title===t.title},getOptionLabel:function(e){return e.title},onInputChange:function(e,t){return i(t)}}})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(kn,{color:"primary",loading:N.isLoading,onClick:g((function(e){return N.mutate(e)})),fullWidth:!0,children:"Add Artist"})})]})]})]})},Ac=function(){var e,t,n,a,c,r=he().onError,i=Object(Y.h)(),o=Number(i.id),l=Number(i.userId),d=Object(j.b)(),b=Object(j.c)(k),O=Object(u.b)(),m=O.getQueryData([me.MUSIC,o]),h=O.getQueryData([me.ITUNES,me.MUSIC,null===m||void 0===m||null===(e=m.link)||void 0===e?void 0:e.itunes]),f=Object(jn.a)((function(e){return function(e,t,n,a,c){return un.a.patch("".concat(G.USERS,"/").concat(e,"/").concat(G.MUSICS,"/").concat(t,"/").concat(G.LINKS,"/").concat(n||"undefined"),a,Object(On.a)({},c))}(l,o,null===m||void 0===m?void 0:m.link.id,e,b)}),{onSuccess:function(e){d(y(e.headers)),O.setQueryData([me.MUSIC,o],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{link:e.data})}))},onError:r}),x=function(e){return f.mutate({spotify:e.id})},p=function(e){return f.mutate({itunes:e.trackId})},v=function(e){return f.mutate({musixmatch:e.track.track_id})};return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(aa,{itunes:{link:null===h||void 0===h?void 0:h.trackViewUrl,renderDialog:function(e,t){return Object(je.jsx)(tc,{defaultValue:null===m||void 0===m?void 0:m.title,open:e,onClose:t,onSelect:p,showSearchBar:!0})}},spotify:{type:"track",link:null===m||void 0===m||null===(t=m.link)||void 0===t?void 0:t.spotify,renderDialog:function(e,t){return Object(je.jsx)(oc,{defaultValue:null===m||void 0===m?void 0:m.title,open:e,onClose:t,onSelect:x,showSearchBar:!0})}},musixmatch:{renderDialog:function(e,t){return Object(je.jsx)(cc,{defaultValue:null===m||void 0===m?void 0:m.title,open:e,onClose:t,onSelect:v,showSearchBar:!0})}}})}),Object(je.jsxs)(Z.a,{mb:3,children:[Object(je.jsx)(hc,{}),Object(je.jsx)(ue.a,{component:le.a,children:Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"Main"}),Object(je.jsx)(ne.a,{})]})}),Object(je.jsxs)(te.a,{children:[Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"ReleaseDate"}),Object(je.jsx)(ne.a,{children:(null===h||void 0===h?void 0:h.releaseDate)&&Object(Xa.a)(new Date(h.releaseDate),"yyyy/MM/dd")})]}),Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"Composer"}),Object(je.jsx)(ne.a,{children:null===m||void 0===m||null===(n=m.composers)||void 0===n?void 0:n.map((function(e){return Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.ARTISTS,"/").concat(e.id),children:e.name},e.id)}))})]}),Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"Lyrists"}),Object(je.jsx)(ne.a,{children:null===m||void 0===m||null===(a=m.lyrists)||void 0===a?void 0:a.map((function(e){return Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.ARTISTS,"/").concat(e.id),children:e.name},e.id)}))})]}),Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"Band"}),Object(je.jsx)(ne.a,{children:(null===m||void 0===m?void 0:m.band)&&Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.BANDS,"/").concat(m.band.id),children:m.band.name})})]}),Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"Created by"}),Object(je.jsx)(ne.a,{children:(null===m||void 0===m?void 0:m.user)&&Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.USERS,"/").concat(m.user.id),children:m.user.nickname})})]})]})]})})]}),Object(je.jsxs)(Z.a,{mb:3,children:[Object(je.jsx)(Pc,{}),Object(je.jsx)(ue.a,{component:le.a,children:Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"Role"}),Object(je.jsx)(ne.a,{children:"Artist"})]})}),Object(je.jsx)(te.a,{children:null===m||void 0===m||null===(c=m.artistMusics)||void 0===c?void 0:c.map((function(e){return Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:e.role}),Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.ARTISTS,"/").concat(e.artist.id),children:e.artist.name})})]},e.id)}))})]})})]}),Object(je.jsx)(Uc,{}),Object(je.jsx)(zn,{albums:(null===m||void 0===m?void 0:m.albums)||[]})]})},wc=function(){var e=ta(),t=Object(H.a)(e,3),n=t[0],a=t[1],c=t[2],r=Object(dn.d)(),i=r.errors,o=r.control,s=r.handleSubmit,l=Object(Y.f)(),d=Object(Y.i)(),b=Number(d.params.id),O=Number(d.params.userId),m=Object(j.c)(k),h=Object(u.b)(),f=h.getQueryData([me.MUSIC,b]),x=he().onError,p=Object(j.b)(),v=Object(jn.a)((function(){return function(e,t,n){return un.a.delete("".concat(G.USERS,"/").concat(e).concat(G.MUSICS,"/").concat(t),n)}(O,b,m)}),{onSuccess:function(e){p(y(e.headers)),h.removeQueries([me.MUSIC,b]),l.push(G.ROOT)},onError:x});return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(da.a,{onClose:c,open:n,children:Object(je.jsxs)(Z.a,{m:3,children:[Object(je.jsx)(ja.a,{children:"Are you absolutely sure?"}),Object(je.jsxs)(Pe.a,{children:["Please type"," ",Object(je.jsx)(Z.a,{display:"inline",fontWeight:"Bold",children:null===f||void 0===f?void 0:f.title})," ","to confirm."]}),Object(je.jsx)(vn,{name:"title",defaultValue:"",autoComplete:"on",label:"Title",variant:"outlined",control:o,errors:i,disabled:v.isLoading,fullWidth:!0,rules:{validate:function(e){return e===(null===f||void 0===f?void 0:f.title)}}}),Object(je.jsx)(kn,{type:"button",color:"secondary",loading:v.isLoading,onClick:s((function(){return v.mutate()})),fullWidth:!0,children:"Delete Music"})]})}),Object(je.jsx)(Ee.a,{variant:"contained",color:"secondary",onClick:a,children:"Delete this music"})]})};wc.defaultProps={music:void 0};var Lc=wc,Nc=function(e){var t=e.issues,n=e.page,a=e.pageCount,c=e.onPage,r=e.loading,i=Object(Y.i)();return Object(je.jsx)(Oe,{page:n,pageCount:a,onPage:c,loading:r,children:Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsx)(ce.a,{children:Object(je.jsx)(ne.a,{children:"title"})})}),Object(je.jsx)(te.a,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(je.jsx)(ce.a,{children:Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:"".concat(i.url,"/").concat(e.id),children:e.title})})},e.id)}))})]})})},Mc=function(){var e=It(),t=Object(H.a)(e,2),n=t[0],a=t[1],c=Object(Y.i)(),r=he().onError,i=Object(J.a)([me.ISSUES,n],function(e,t,n){return function(){return nn.request(Dt,{musicId:e,page:t,q:n}).then((function(e){return e.issues}))}}(Number(c.params.id),n),{onError:r}),o=i.data,l=i.isLoading;return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsxs)(X.a,{container:!0,children:[Object(je.jsx)(X.a,{item:!0,xs:10,children:Object(je.jsx)(fn.a,{variant:"outlined",label:"Search Issues",onKeyPress:function(){},fullWidth:!0})}),Object(je.jsx)(X.a,{item:!0,xs:2,children:Object(je.jsx)(Ee.a,{variant:"contained",component:s.b,to:c.url+G.NEW,children:"New"})})]})}),Object(je.jsx)(Nc,{issues:(null===o||void 0===o?void 0:o.data)||[],loading:l,page:n,pageCount:null===o||void 0===o?void 0:o.pagination.totalPages,onPage:a})]})},Tc=n(391),Rc=n.n(Tc),Bc=n(392),qc=n.n(Bc),Dc=function(e){var t=e.files,n=e.blobPath,a=e.treePath;return Object(je.jsx)(ue.a,{component:le.a,children:Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{}),Object(je.jsx)(ne.a,{children:"files"})]})}),Object(je.jsx)(te.a,{children:t.map((function(e){return Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"blob"===e.type?Object(je.jsx)(Rc.a,{color:"action"}):Object(je.jsx)(qc.a,{color:"action"})}),Object(je.jsx)(ne.a,{children:"blob"===e.type?Object(je.jsx)(re.a,{to:{pathname:"".concat(n,"/").concat(e.name),state:{oid:e.oid,path:e.name}},component:s.b,children:e.name}):Object(je.jsx)(re.a,{to:{pathname:"".concat(a,"/").concat(e.name),state:{oid:e.oid,path:e.name}},component:s.b,children:e.name})})]},e.oid)}))})]})})},_c=function(){var e,t=he().onError,n=Object(Y.i)(),a=Number(n.params.id),c=Number(n.params.userId),r=Object(u.b)().getQueryData([me.MUSIC,a]),i=Object(J.a)([me.MUSIC,a,me.REPOSITORY],function(e){return function(){return nn.request($t,{id:e}).then((function(e){return e.music}))}}(a),{onError:t});return Object(je.jsxs)("div",{children:[Object(je.jsxs)("p",{children:["http://localhost/git/",c,"/",null===r||void 0===r?void 0:r.title,".git"]}),Object(je.jsx)("p",{children:"Files"}),Object(je.jsx)(Dc,{files:(null===(e=i.data)||void 0===e?void 0:e.rootTree)||[],treePath:"".concat(n.url,"/tree"),blobPath:"".concat(n.url,"/blob")})]})},$c=function(){var e,t,n=he().onError,a=Object(Y.h)(),c=Object(Y.i)(),r=Object(Y.g)().state.oid,i=Number(a.id),o=Object(J.a)([me.MUSIC,i,me.BLOB],function(e,t){return function(){return nn.request(tn,{id:e,oid:t}).then((function(e){return e.music}))}}(i,r),{onError:n});return Object(je.jsxs)("div",{children:[Object(je.jsx)("pre",{children:null===(e=o.data)||void 0===e?void 0:e.blob}),Object(je.jsx)(Dc,{files:(null===(t=o.data)||void 0===t?void 0:t.tree)||[],treePath:c.url.replace("tree","blob"),blobPath:c.url.replace("tree","blob")})]})},Vc=n(1278),Wc=n(1258),Fc=function(){var e,t=he().onError,n=Object(Y.h)(),a=Object(Y.g)().state.oid,c=Number(n.id),r=Object(J.a)([me.MUSIC,c,me.BLOB],function(e,t){return function(){return nn.request(en,{id:e,oid:t}).then((function(e){return e.music}))}}(c,a),{onError:t});return Object(je.jsx)(le.a,{children:Object(je.jsx)(Vc.a,{style:Wc.a,children:(null===(e=r.data)||void 0===e?void 0:e.blob)||""})})},Kc=function(){var e=Object(dn.d)({resolver:Object(bn.a)(yc)}),t=e.errors,n=e.control,a=e.handleSubmit,c=Object(Y.i)().url.replace("/new",""),r=Object(Y.h)(),i=Number(r.userId),o=Number(r.id),s=Object(j.c)(k),l=Object(Y.f)(),u=Object(j.b)(),d=he().onError,b=Object(jn.a)((function(e){return function(e,t,n,a){return un.a.post("".concat(G.USERS,"/").concat(e).concat(G.MUSICS,"/").concat(t).concat(G.ISSUES),n,a)}(i,o,e,s)}),{onSuccess:function(e){u(y(e.headers)),l.push("".concat(c,"/").concat(e.data.id))},onError:d}),O=b.isLoading,m=b.mutate;return Object(je.jsxs)("form",{onSubmit:a((function(e){return m(e)})),children:[Object(je.jsx)(vn,{name:"title",defaultValue:"",autoComplete:"on",label:"Title",variant:"outlined",margin:"normal",control:n,errors:t,disabled:O,fullWidth:!0}),Object(je.jsx)(vn,{name:"description",defaultValue:"",autoComplete:"on",label:"Description",variant:"outlined",margin:"normal",control:n,errors:t,disabled:O,rows:10,fullWidth:!0,multiline:!0}),Object(je.jsx)(kn,{type:"submit",loading:O,children:"create issue"})]})},Qc=n(395),zc=n.n(Qc),Yc=n(1279),Gc=n(255),Hc=["inline","className","children"],Jc=function(){var e=Object(Y.h)(),t=Number(e.id),n=he().onError,a=Object(J.a)([me.ISSUE,t],function(e){return function(){return nn.request(qt,{id:e}).then((function(e){return e.issue}))}}(t),{onError:n}),c=a.data,r=a.isLoading,i={code:function(e){var t=e.inline,n=e.className,a=e.children,c=Object(mn.a)(e,Hc),r=/language-(\w+)/.exec(n||"");return!t&&r?Object(je.jsx)(Yc.a,Object(On.a)(Object(On.a)({style:Gc.dark,language:r[1],PreTag:"div"},c),{},{children:String(a).replace(/\n$/,"")})):Object(je.jsx)("code",Object(On.a)(Object(On.a)({className:n},c),{},{children:a}))}};return Object(je.jsxs)(je.Fragment,{children:[r&&Object(je.jsx)(se.a,{}),Object(je.jsx)(Pe.a,{variant:"h3",children:null===c||void 0===c?void 0:c.title}),Object(je.jsx)(zc.a,{components:i,children:(null===c||void 0===c?void 0:c.description)||""})]})},Xc=n(397),Zc=n.n(Xc),er=function(){var e,t,n,a=he().onError,c=Object(Y.h)(),r=Number(c.id),i=Object(u.b)().getQueryData([me.MUSIC,r]),o=Object(J.a)([me.MUSIXMATCH,null===i||void 0===i?void 0:i.link.id],(function(){return e=null===i||void 0===i?void 0:i.link.musixmatch,ac.jsonp("track.lyrics.get",{params:{track_id:e}});var e}),{onError:a}),s=o.data;return o.isLoading?Object(je.jsx)(gn.a,{}):Object(je.jsx)("div",{className:Zc.a.lyric,children:(null===s||void 0===s||null===(e=s.message)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.lyrics)||void 0===n?void 0:n.lyrics_body)||""})},tr=n(1261),nr=n(1276),ar=n(1226),cr=n(1260),rr=n(1288),ir=n(1259),or=n(1286),sr=n(399),lr=n.n(sr),ur=n(400),dr=n.n(ur),jr=n(401),br=n.n(jr),Or=n(398),mr=n.n(Or),hr=function(e){var t=e.value;return e.muted||!t?Object(je.jsx)(mr.a,{}):t>=.6?Object(je.jsx)(lr.a,{}):t>=.3?Object(je.jsx)(dr.a,{}):Object(je.jsx)(br.a,{})};hr.defaultProps={value:void 0,muted:!1};var fr=function(e){var t=e.className,n=e.volume,a=e.muted,c=e.onMute,r=e.onVolume;return Object(je.jsx)(ir.a,{className:t,value:"",selected:a,onChange:function(){c&&c()},children:Object(je.jsxs)(Z.a,{width:200,display:"flex",alignItems:"center",children:[Object(je.jsx)(hr,{value:n,muted:a}),Object(je.jsx)(or.a,{className:t,disabled:a,value:n,onClick:function(e){return e.stopPropagation()},onChange:r})]})})};fr.defaultProps={className:"",muted:!1,onVolume:void 0,onMute:void 0};var xr=fr,pr=n(403),vr=n.n(pr),gr=n(402),Sr=n.n(gr),kr=function(e){var t=e.className,n=e.paused,a=e.disabled,c=e.onPause;return Object(je.jsx)(ir.a,{className:t,value:"check",disabled:a,onClick:function(){a||c&&c()},children:n?Object(je.jsx)(Sr.a,{}):Object(je.jsx)(vr.a,{})})};kr.defaultProps={className:"",paused:!0,disabled:!1,onPause:void 0};var Cr=kr,Ir=Object(ft.a)((function(e){return Object(ar.a)({appBar:{top:"auto",bottom:0},itunes:{color:e.palette.itunes.main},colorPrimary:{background:e.palette.itunes.light},barColorPrimary:{backgroundColor:e.palette.itunes.main}})})),yr=function(e){var t=e.src,n=e.selectInput,a=e.onVolume,c=e.onPlay,r=e.onMute,i=Object(nr.a)({src:t||""}),o=Object(H.a)(i,3),s=o[0],l=o[1],u=o[2],d=Ir();return Object(je.jsxs)(cr.a,{position:"fixed",color:"inherit",className:d.appBar,children:[s,Object(je.jsx)(se.a,{classes:{colorPrimary:d.colorPrimary,barColorPrimary:d.barColorPrimary},variant:"determinate",value:l.time/l.duration*100}),Object(je.jsx)(tr.a,{children:Object(je.jsx)(Z.a,{width:"100%",children:Object(je.jsxs)(Z.a,{display:"flex",justifyContent:"space-between",children:[Object(je.jsxs)(rr.a,{children:[Object(je.jsx)(xr,{className:d.itunes,muted:l.muted,volume:100*l.volume,onVolume:function(e,t){Array.isArray(t)||a(t,u)},onMute:function(){return r(l,u)}}),Object(je.jsx)(Cr,{className:d.itunes,paused:l.paused,onPause:function(){return c(l,u)}})]}),Object(je.jsx)(Z.a,{display:"flex",alignItems:"center",children:n})]})})})]})},Er=Object(ft.a)((function(e){return Object(ar.a)({appBar:{top:"auto",bottom:0,color:"#191414"},spotify:{color:e.palette.spotify.main},colorPrimary:{background:e.palette.spotify.light},barColorPrimary:{backgroundColor:e.palette.spotify.main}})})),Pr=function(e){var t=e.src,n=e.selectInput,a=e.onVolume,c=e.onPlay,r=e.onMute,i=Object(nr.a)({src:t}),o=Object(H.a)(i,3),s=o[0],l=o[1],u=o[2],d=Object(j.c)(w),b=Er();return Object(je.jsxs)(cr.a,{position:"fixed",color:"inherit",className:b.appBar,children:[s,Object(je.jsx)(se.a,{classes:{colorPrimary:b.colorPrimary,barColorPrimary:b.barColorPrimary},variant:"determinate",value:l.time/l.duration*100}),Object(je.jsx)(tr.a,{children:Object(je.jsx)(Z.a,{width:"100%",children:Object(je.jsxs)(Z.a,{display:"flex",justifyContent:"space-between",children:[Object(je.jsxs)(rr.a,{children:[Object(je.jsx)(xr,{className:b.spotify,muted:l.muted,volume:100*l.volume,onVolume:function(e,t){Array.isArray(t)||a(t,u)},onMute:function(){return r(l,u)}}),Object(je.jsx)(Cr,{className:b.spotify,paused:l.paused,onPause:function(){return c(l,u)},disabled:!d})]}),!d&&Object(je.jsx)(Sa,{}),Object(je.jsx)(Z.a,{display:"flex",alignItems:"center",children:n})]})})})]})},Ur=function(e){var t=e.src,n=Object.entries(t).filter((function(e){return!!Object(H.a)(e,2)[1]})).map((function(e){return Object(H.a)(e,1)[0]})),c=Object(a.useState)(""),r=Object(H.a)(c,2),i=r[0],o=r[1],s=function(e){return o(e.target.value)},l=function(e,t){return e.muted?t.unmute():t.mute()},u=function(e,t){return e.paused?t.play():t.pause()},d=function(e,t){Array.isArray(e)||t.volume(e/100)};Object(a.useEffect)((function(){t&&o(n[0])}),[t]);var j=function(){return Object(je.jsx)(Z.a,{display:"flex",alignItems:"center",children:Object(je.jsx)(vc.a,{value:i,onChange:s,children:n.map((function(e){return Object(je.jsx)(fc.a,{value:e,children:e},e)}))})})};return"itunes"===i?Object(je.jsxs)(je.Fragment,{children:[t.itunes&&Object(je.jsx)(yr,{src:t.itunes,selectInput:Object(je.jsx)(j,{}),onMute:l,onVolume:d,onPlay:u}),Object(je.jsx)(tr.a,{})]}):"spotify"===i?Object(je.jsxs)(je.Fragment,{children:[t.spotify&&Object(je.jsx)(Pr,{src:t.spotify,selectInput:Object(je.jsx)(j,{}),onMute:l,onVolume:d,onPlay:u}),Object(je.jsx)(tr.a,{})]}):Object(je.jsx)(je.Fragment,{})},Ar=function(){var e,t,n,a,c,r,i,o,l,d,b,O,m,h=Object(Y.i)(),f=Number(h.params.id),x=Number(h.params.userId),p=Object(Y.g)(),v=he().onError,g=Object(j.c)(S),C=Object(j.c)(k),I=Object(j.c)(w),E=Object(j.b)(),P=Object(u.b)(),U=Object(J.a)([me.MUSIC,f],function(e,t){return function(){return nn.request(_t,{id:e,currentUserId:t}).then((function(e){return e.music}))}}(f,null===g||void 0===g?void 0:g.id),{onError:v}),A=Object(J.a)([me.ITUNES,me.MUSIC,null===(e=U.data)||void 0===e||null===(t=e.link)||void 0===t?void 0:t.itunes],(function(){var e;return Se(null===(e=U.data)||void 0===e?void 0:e.link.itunes).then((function(e){return e.results[0]}))}),{enabled:!!(null===(n=U.data)||void 0===n||null===(a=n.link)||void 0===a?void 0:a.itunes),onError:v,retry:2}),L=Object(J.a)([me.SPOTIFY,me.MUSIC,null===(c=U.data)||void 0===c||null===(r=c.link)||void 0===r?void 0:r.spotify],(function(){var e;return function(e,t){return Ea.get("/tracks/".concat(e||""),{headers:Object(On.a)({},{Authorization:"Bearer ".concat(t||"")})}).then((function(e){return e.data}))}(null===(e=U.data)||void 0===e?void 0:e.link.spotify,null===I||void 0===I?void 0:I.access_token)}),{enabled:!!(null===(i=U.data)||void 0===i||null===(o=i.link)||void 0===o?void 0:o.spotify)&&!!I,onError:function(e){E(M()),v(e)},retry:2}),N=Object(jn.a)((function(){return function(e,t,n){return un.a.post("".concat(G.USERS,"/").concat(e).concat(G.MUSICS,"/").concat(t).concat(G.BOOKMARKS),void 0,n)}(x,f,C)}),{onSuccess:function(e){E(y(e.headers)),P.setQueryData([me.MUSIC,f],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{bookmark:e.data,bookmarksCount:t.bookmarksCount+1})}))},onError:v}),T=Object(jn.a)((function(){var e,t;return function(e,t,n,a){return un.a.delete("".concat(G.USERS,"/").concat(e).concat(G.MUSICS,"/").concat(t).concat(G.BOOKMARKS,"/").concat(n||"undefined"),a)}(x,f,null===(e=U.data)||void 0===e||null===(t=e.bookmark)||void 0===t?void 0:t.id,C)}),{onSuccess:function(e){E(y(e.headers)),P.setQueryData([me.MUSIC,f],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{bookmark:void 0,bookmarksCount:e.bookmarksCount-1})}))},onError:v});return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsxs)(Ct,{children:[Object(je.jsxs)(X.a,{container:!0,children:[Object(je.jsx)(X.a,{item:!0,xs:11,children:Object(je.jsxs)(Pe.a,{variant:"h5",children:[Object(je.jsx)(Me.a,{}),null===(l=U.data)||void 0===l?void 0:l.title]})}),Object(je.jsx)(X.a,{item:!0,xs:1,children:Object(je.jsx)(la,{count:null===(d=U.data)||void 0===d?void 0:d.bookmarksCount,bookmarked:!!(null===(b=U.data)||void 0===b?void 0:b.bookmark)||!1,onCreate:function(){return N.mutate()},onDestroy:function(){return T.mutate()}})})]}),Object(je.jsx)(Z.a,{height:"100px",width:"100px",m:"auto",children:A.data&&Object(je.jsx)(oe.a,{src:A.data.artworkUrl100})}),Object(je.jsx)(Z.a,{my:3,children:Object(je.jsx)(Ee.a,{variant:"contained",color:"primary",disabled:!!U.data&&!U.data.scoreExist,component:s.b,to:h.url+G.TAB,fullWidth:!0,disableElevation:!0,children:"Watch Tab"})}),Object(je.jsxs)(Ja.a,{value:p.pathname.includes("issues")?h.url+G.ISSUES:p.pathname.includes("files")?h.url+G.FILES:p.pathname,children:[Object(je.jsx)(Ha.a,{label:"Info",value:h.url,component:s.b,to:h.url}),Object(je.jsx)(Ha.a,{label:"Files",value:h.url+G.FILES,component:s.b,to:h.url+G.FILES}),Object(je.jsx)(Ha.a,{label:"Lyric",value:h.url+G.LYRIC,component:s.b,to:h.url+G.LYRIC}),Object(je.jsx)(Ha.a,{label:"Issues",value:h.url+G.ISSUES,component:s.b,to:h.url+G.ISSUES}),Object(je.jsx)(Ha.a,{label:"Setting",value:h.url+G.SETTING,component:s.b,to:h.url+G.SETTING,disabled:(null===g||void 0===g?void 0:g.id)!==Number(h.params.userId)})]}),Object(je.jsxs)(Y.c,{children:[Object(je.jsx)(Y.a,{exact:!0,path:h.path,component:Ac}),Object(je.jsx)(Y.a,{exact:!0,path:h.path+G.FILES,component:_c}),Object(je.jsx)(Y.a,{exact:!0,path:h.path+G.SETTING,component:Lc}),Object(je.jsx)(Y.a,{exact:!0,path:h.path+G.LYRIC,component:er}),Object(je.jsx)(Y.a,{exact:!0,path:h.path+G.FILES,component:_c}),Object(je.jsx)(Y.a,{exact:!0,path:"".concat(h.path+G.FILES+G.TREE,"/:filename"),component:$c}),Object(je.jsx)(Y.a,{strict:!0,path:"".concat(h.path+G.FILES+G.BLOB,"/:filename"),component:Fc}),Object(je.jsx)(Y.a,{exact:!0,path:h.path+G.ISSUES,component:Mc}),Object(je.jsx)(Y.a,{exact:!0,path:h.path+G.ISSUES+G.NEW,component:Kc}),Object(je.jsx)(Y.a,{exact:!0,path:"".concat(h.path).concat(G.ISSUES,"/:id"),component:Jc})]})]}),Object(je.jsx)(Ur,{src:{itunes:null===(O=A.data)||void 0===O?void 0:O.previewUrl,spotify:null===(m=L.data)||void 0===m?void 0:m.preview_url}})]})},wr=function(){var e,t,n,c=It(),r=Object(H.a)(c,2),i=r[0],o=r[1],s=ta(),l=Object(H.a)(s,3),d=l[0],b=l[1],O=l[2],m=Object(a.useState)(),h=Object(H.a)(m,2),f=h[0],x=h[1],p=Object(dn.d)(),v=p.errors,g=p.control,C=p.watch,I=p.register,E=p.setValue,P=p.handleSubmit,U=C().title,A=Object(Wa.a)(U,1e3),w=Object(H.a)(A,2),L=w[0],N=w[1].isPending,M=Object(j.b)(),T=Object(j.c)(S),R=Object(j.c)(k),B=Object(Y.f)(),q=Object(Y.i)(),D=Number(q.params.id),_="".concat(G.USERS,"/").concat((null===T||void 0===T?void 0:T.id)||"undefinde").concat(G.MUSICS),$=he().onError,V=Object(u.b)(),W=Object(jn.a)((function(e){return function(e,t,n){return un.a.post("".concat(G.USERS,"/").concat(e||"undefined").concat(G.MUSICS),t,n)}(null===T||void 0===T?void 0:T.id,e,R)}),{onSuccess:function(e){M(y(e.headers)),B.push("".concat(_,"/").concat(e.data.id)),V.setQueryData([me.MUSIC,D],e.data),f&&V.setQueryData([me.ITUNES,me.MUSIC,f.trackId],f)},onError:$}),F=Object(J.a)([me.MUSICS,{page:i,query:L}],an(i,{title_eq:L}),{enabled:!N()&&!!L,onError:$});return Object(a.useEffect)((function(){if(I("link_attributes.itunes"),f){var e=f.trackCensoredName,t=f.trackId;E("title",e),E("link_attributes.itunes",t)}}),[I,f,E]),Object(je.jsx)(Ct,{children:Object(je.jsx)(le.a,{children:Object(je.jsxs)(Z.a,{p:3,children:[Object(je.jsx)(Z.a,{height:"100px",width:"100px",m:"auto",children:Object(je.jsx)(oe.a,{src:(null===f||void 0===f?void 0:f.artworkUrl100)||"undefiend"})}),Object(je.jsx)(vn,{name:"title",defaultValue:"",autoComplete:"on",label:"Title",variant:"outlined",control:g,errors:v,disabled:W.isLoading,fullWidth:!0,InputProps:{endAdornment:Object(je.jsx)(Vn,{color:"inherit",size:20,loading:F.isLoading})}}),Object(je.jsx)(Fa,{disabled:!L,onClick:b,fullWidth:!0,disableElevation:!0}),Object(je.jsx)(tc,{defaultValue:L,open:d,onClose:O,onSelect:function(e){return x(e)}}),Object(je.jsx)(za,{data:null===(e=F.data)||void 0===e?void 0:e.data,children:Object(je.jsx)(ke,{musics:(null===(t=F.data)||void 0===t?void 0:t.data)||[],page:i,pageCount:null===(n=F.data)||void 0===n?void 0:n.pagination.totalPages,onPage:o,loading:F.isLoading})}),Object(je.jsx)(kn,{color:"primary",loading:W.isLoading,disabled:!L,onClick:P((function(e){return W.mutate(e)})),fullWidth:!0,children:"Create Music"})]})})})},Lr=n(404),Nr=n.n(Lr),Mr=n(131),Tr=n(1263),Rr=n(409),Br=n.n(Rr),qr=function(e){var t=e.title,n=e.artist;return Object(je.jsxs)(Z.a,{className:"SongInfo",display:"flex",alignItems:"center",height:"100%",children:[Object(je.jsx)(Z.a,{className:"at-song-title",mx:3,children:Object(je.jsx)(Pe.a,{variant:"body1",children:t})}),"-",Object(je.jsx)(Z.a,{className:"at-song-artist",mx:3,children:Object(je.jsx)(Pe.a,{variant:"body2",children:n})})]})},Dr=n(405),_r=n.n(Dr),$r=function(e){var t=e.className,n=e.disabled,a=e.onStop;return Object(je.jsx)(ir.a,{className:t,value:"check",disabled:n,onClick:function(){n||a&&a()},children:Object(je.jsx)(_r.a,{})})};$r.defaultProps={className:"",disabled:!1,onStop:void 0};var Vr=$r,Wr=n(406),Fr=n.n(Wr),Kr=function(e){var t=e.className,n=e.selected,a=e.onClick;return Object(je.jsx)(ir.a,{className:t,value:"check",selected:n,onClick:a,children:Object(je.jsx)(Fr.a,{})})};Kr.defaultProps={className:"",selected:!1,onClick:void 0};var Qr=Kr,zr=n(407),Yr=n.n(zr),Gr=function(e){var t=e.className,n=e.selected,a=e.onClick;return Object(je.jsx)(ir.a,{className:t,value:"check",selected:n,onClick:a,children:Object(je.jsx)(Yr.a,{})})};Gr.defaultProps={className:"",selected:!1,onClick:void 0};var Hr=Gr,Jr=n(408),Xr=function(e){var t=e.className,n=e.selected,a=e.onClick;return Object(je.jsx)(ir.a,{value:"check",className:t,selected:n,onClick:a,children:Object(je.jsx)(Jr.a,{size:24})})};Xr.defaultProps={className:"",selected:!1,onClick:void 0};var Zr=Xr,ei=n(1284),ti=n(1247),ni=function(e){var t=e.onLayout,n=e.layout;return Object(je.jsxs)(ti.a,{className:"Layout",children:[Object(je.jsx)(ei.a,{id:"layout-select-label",children:"Layout"}),Object(je.jsxs)(vc.a,{id:"layout-select",labelId:"layout-select-label",value:n,onChange:t,autoWidth:!0,children:[Object(je.jsx)(fc.a,{value:0,children:"Horizontal"}),Object(je.jsx)(fc.a,{value:1,children:"Page"})]})]})};ni.defaultProps={layout:0,onLayout:void 0};var ai=ni,ci=function(e){var t=e.zoom,n=e.onZoom,a=[25,50,75,90,100,110,125,150,200].map((function(e){return Object(je.jsxs)(fc.a,{value:e,children:[e,"%"]},e)}));return Object(je.jsxs)(ti.a,{className:"Zoom",children:[Object(je.jsx)(ei.a,{id:"zoom-select-label",children:"Zoom"}),Object(je.jsx)(vc.a,{id:"zoom-select",labelId:"zoom-select-label",value:t,onChange:n,children:a})]})};ci.defaultProps={zoom:100,onZoom:void 0};var ri=ci,ii=function(e){var t=e.alphaTabApi,n=Mr.LayoutMode.Horizontal,c=Mr.LayoutMode.Page,r=Object(a.useState)(""),i=Object(H.a)(r,2),o=i[0],s=i[1],l=Object(a.useState)(""),u=Object(H.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(100),O=Object(H.a)(b,2),m=O[0],h=O[1],f=Object(a.useState)(!0),x=Object(H.a)(f,2),p=x[0],v=x[1],g=Object(a.useState)(!0),S=Object(H.a)(g,2),k=S[0],C=S[1],I=Object(Tr.a)(!1),y=Object(H.a)(I,2),E=y[0],P=y[1],U=Object(Tr.a)(!1),A=Object(H.a)(U,2),w=A[0],L=A[1],N=Object(Tr.a)(!1),M=Object(H.a)(N,2),T=M[0],R=M[1],B=Object(Tr.a)(!1),q=Object(H.a)(B,2),D=q[0],_=q[1],$=Object(a.useState)(c),V=Object(H.a)($,2),W=V[0],F=V[1],K=Object(a.useState)(100),Q=Object(H.a)(K,2),z=Q[0],G=Q[1],J=Object(Y.f)(),ee=function(){return C(!1)},te=function(e){var t=e.state;return v(0===t)},ne=function(e){s(e.title),j(e.artist)};return Object(a.useEffect)((function(){return null===t||void 0===t||t.scoreLoaded.on(ne),null===t||void 0===t||t.playerReady.on(ee),null===t||void 0===t||t.playerStateChanged.on(te),function(){null===t||void 0===t||t.scoreLoaded.off(ne),null===t||void 0===t||t.playerReady.off(ee),null===t||void 0===t||t.playerStateChanged.off(te)}}),[t]),Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)(cr.a,{className:"Header",position:"fixed",color:"default",children:[Object(je.jsx)(tr.a,{children:Object(je.jsxs)(X.a,{container:!0,children:[Object(je.jsx)(X.a,{item:!0,xs:1,children:Object(je.jsx)(Tn.a,{onClick:function(){return J.goBack()},children:Object(je.jsx)(Br.a,{})})}),Object(je.jsx)(X.a,{className:"at-controls-left",item:!0,xs:3,children:Object(je.jsx)(qr,{title:o,artist:d})}),Object(je.jsx)(X.a,{item:!0,xs:5,children:Object(je.jsx)(Z.a,{display:"flex",justifyContent:"center",children:Object(je.jsxs)(rr.a,{children:[Object(je.jsx)(Vr,{onStop:function(){return null===t||void 0===t?void 0:t.stop()}}),Object(je.jsx)(Cr,{paused:p,disabled:k,onPause:function(){return null===t||void 0===t?void 0:t.playPause()}}),Object(je.jsx)(xr,{volume:m,muted:E,onMute:function(){t&&(P(),0===t.masterVolume?t.masterVolume=m/100:t.masterVolume=0)},onVolume:function(e,n){t&&(Array.isArray(n)||(t.masterVolume=n/100,h(n)))}}),Object(je.jsx)(Qr,{selected:w,onClick:function(){t&&(L(),t.countInVolume=w?0:1)}}),Object(je.jsx)(Hr,{selected:T,onClick:function(){t&&(R(),t.isLooping=!T)}}),Object(je.jsx)(Zr,{selected:D,onClick:function(){t&&(_(),t.metronomeVolume=D?0:1)}})]})})}),Object(je.jsx)(X.a,{item:!0,xs:3,children:Object(je.jsxs)(X.a,{className:"at-controls-right",container:!0,children:[Object(je.jsx)(X.a,{item:!0,xs:6}),Object(je.jsx)(X.a,{item:!0,xs:3,children:Object(je.jsx)(ri,{zoom:z,onZoom:function(e){if(t){G(e.target.value);var n=parseInt(e.target.value,10)/100;t.settings.display.scale=n,t.updateSettings(),t.render()}}})}),Object(je.jsx)(X.a,{item:!0,xs:3,children:Object(je.jsx)(ai,{layout:W,onLayout:function(e){if(t){switch(e.target.value){case n:F(n),t.settings.display.layoutMode=n;break;case c:F(c),t.settings.display.layoutMode=c}t.updateSettings(),t.render()}}})})]})})]})}),k&&Object(je.jsx)(se.a,{})]})})};ii.defaultProps={alphaTabApi:void 0};var oi=ii,si=n(1249),li=n(1192),ui=n(1264),di=n(1265),ji=function(e){var t=e.color;return Object(je.jsx)(Ln.a,{color:t,children:Object(je.jsx)(Nn.a,{})})},bi=(new Mr.model.Track,function(e){var t=e.track,n=e.selectedIndex,c=e.i,r=e.onListItemClick,i=e.onMute,o=e.onSolo,s=Object(a.useState)(!1),l=Object(H.a)(s,2),u=l[0],d=l[1],j=Object(a.useState)(!1),b=Object(H.a)(j,2),O=b[0],m=b[1],h=n===c;return Object(je.jsxs)(li.a,{id:"at-track-template",button:!0,selected:h,onClick:function(){r&&r(t,c)},children:[Object(je.jsx)(ui.a,{children:Object(je.jsx)(ji,{color:h?"primary":"inherit"})}),Object(je.jsx)(di.a,{primary:t.name,secondary:Object(je.jsxs)(rr.a,{children:[Object(je.jsx)(ir.a,{size:"small",selected:u,onClick:function(e){e.stopPropagation(),i&&i(u,t),d(!u)},children:"M"}),Object(je.jsx)(ir.a,{size:"small",selected:O,onClick:function(e){e.stopPropagation(),o&&o(O,t),m(!O)},children:"S"})]})})]},t.name)}),Oi=function(e){var t=e.tracks,n=e.selectedIndex,a=e.onListItemClick,c=e.onSolo,r=e.onMute;return Object(je.jsx)(si.a,{className:"at-track-list",component:le.a,children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(je.jsx)(bi,{track:e,selectedIndex:n,i:t,onListItemClick:a,onSolo:c,onMute:r},e.index)}))})};Oi.defaultProps={tracks:[],selectedIndex:0,onMute:void 0,onSolo:void 0,onListItemClick:void 0};var mi=Oi,hi=n(410),fi=n.n(hi),xi={tex:!0,player:{enablePlayer:!0,soundFont:"https://cdn.jsdelivr.net/npm/@coderline/alphatab@latest/dist/soundfont/sonivox.sf2"}},pi=(new Mr.model.Score,function(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(0),i=Object(H.a)(r,2),s=i[0],l=i[1],u=Object(a.useState)(),d=Object(H.a)(u,2),j=d[0],b=d[1],O=Object(a.useRef)(null),m=Object(o.b)().enqueueSnackbar,h=he().onError,f=Nr()({src:"https://cdn.jsdelivr.net/npm/@coderline/alphatab@latest/dist/alphaTab.js"}),x=Object(H.a)(f,2),p=x[0],v=x[1],g=Object(Y.i)(),S=Number(g.params.id);Object(J.a)([me.MUSIC,S,me.SCORE],function(e){return function(){return nn.request(Vt,{id:e}).then((function(e){return e.music}))}}(S),{onSuccess:function(e){return null===j||void 0===j?void 0:j.tex(e.score)},onError:h,enabled:p});var k=function(e){return c(e.tracks)},C=Object(a.useCallback)((function(){j&&l(j.tracks[0].index)}),[j]);return Object(a.useEffect)((function(){!p&&O.current&&b(new window.alphaTab.AlphaTabApi(O.current,xi))}),[p]),Object(a.useEffect)((function(){return null===j||void 0===j||j.renderStarted.on(C),null===j||void 0===j||j.scoreLoaded.on(k),function(){null===j||void 0===j||j.renderStarted.off(C),null===j||void 0===j||j.scoreLoaded.off(k),null===j||void 0===j||j.destroy()}}),[j,null===j||void 0===j?void 0:j.renderStarted,null===j||void 0===j?void 0:j.scoreLoaded,C]),Object(a.useEffect)((function(){v&&m(v.type,{variant:"error"})}),[m,v]),Object(je.jsxs)(Z.a,{className:"at-wrap",position:"relative",display:"flex",flexDirection:"column",height:"93vh",overflow:"hidden",children:[Object(je.jsx)(oi,{alphaTabApi:j}),Object(je.jsxs)(Z.a,{className:"at-content",position:"relative",overflow:"hidden",flexGrow:1,children:[Object(je.jsx)(Z.a,{className:fi.a.atSidebar,position:"absolute",top:"0",left:"0",bottom:"0",zIndex:1001,display:"flex",alignContent:"stretch",width:"auto",maxWidth:"60px",overflow:"hidden",border:1,borderLeft:0,borderTop:0,borderBottom:0,borderColor:"divider",children:Object(je.jsx)(mi,{tracks:n,selectedIndex:s,onMute:function(e,t){return null===j||void 0===j?void 0:j.changeTrackMute([t],!e)},onSolo:function(e,t){return null===j||void 0===j?void 0:j.changeTrackSolo([t],!e)},onListItemClick:function(e,t){l(t),null===j||void 0===j||j.renderTracks([e])}})}),Object(je.jsx)(Z.a,{className:"at-viewport",overflow:"auto",position:"absolute",top:0,left:70,right:0,bottom:0,pr:3,children:Object(je.jsx)("div",{ref:O,className:"at-main"})})]})]})}),vi=function(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],c=t[1],r=Object(wn.useDebounce)(n,1e3),i=Object(H.a)(r,2),o=i[0],s=i[1].isPending,l=It(),u=Object(H.a)(l,2),d=u[0],j=u[1],b=he().onError,O=Object(J.a)([me.BANDS,d,o],cn(d,{name_cont:o}),{onError:b}),m=O.isLoading,h=O.data;return Object(je.jsxs)(Ct,{children:[Object(je.jsx)(Fn,{onChange:function(e){return c(e.target.value)},loading:m||s()}),Object(je.jsx)(Qn,{bands:(null===h||void 0===h?void 0:h.data)||[],loading:m,page:d,pageCount:null===h||void 0===h?void 0:h.pagination.totalPages,onPage:j})]})},gi=function(){var e,t,n=Object(a.useState)(""),c=Object(H.a)(n,2),r=c[0],i=c[1],o=ta(),l=Object(H.a)(o,3),d=l[0],b=l[1],O=l[2],m=lc()(r,1e3),h=Object(H.a)(m,2),f=h[0],x=h[1].isPending,p=Object(dn.d)(),v=p.register,g=p.handleSubmit,S=p.setValue,C=Object(Y.i)(),I=Number(C.params.id),E=C.url+G.ARTISTS,P=Object(j.b)(),U=Object(j.c)(k),A=he().onError,w=Object(u.b)(),L=w.getQueryData([me.BAND,I]),N=Object(jn.a)((function(e){return un.a.post(E,e,U)}),{onSuccess:function(e){P(y(e.headers)),w.setQueryData([me.BAND,I],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{artists:[].concat(Object(qe.a)(t.artists||[]),[e.data.artist])})}))},onError:A}),M=Object(jn.a)((function(e){return un.a.delete("".concat(E,"/").concat(e.id),U)}),{onSuccess:function(e,t){P(y(e.headers)),w.setQueryData([me.BAND,I],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{artists:e.artists&&e.artists.filter((function(e){return e!==t}))})}))},onError:A}),T=Object(J.a)([me.ARTISTS,{query:f}],rn(1,{name_cont:f}),{enabled:!!f,onError:A});return Object(a.useEffect)((function(){v("artist_id")}),[v]),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Ee.a,{onClick:b,children:"Edit"}),Object(je.jsxs)(da.a,{onClose:O,open:d,fullWidth:!0,children:[Object(je.jsx)(ja.a,{children:"Edit Albums"}),Object(je.jsxs)(kt.a,{children:[Object(je.jsx)(ue.a,{component:le.a,children:Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"Artist"}),Object(je.jsx)(ne.a,{align:"right",children:"Delete"})]})}),Object(je.jsx)(te.a,{children:null===L||void 0===L||null===(e=L.artists)||void 0===e?void 0:e.map((function(e){return Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:"/",children:e.name})}),Object(je.jsx)(ne.a,{align:"right",children:Object(je.jsx)(Tn.a,{onClick:function(){return M.mutate(e)},children:Object(je.jsx)(pc.a,{})})})]},e.id)}))})]})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(jc,{maxLength:1,onSelectOption:function(e){return S("artist_id",e.id)},onRemoveOption:function(){return S("artist_id","")},textFieldProps:{label:"Artist",variant:"outlined",margin:"normal"},autocompleteProps:{multiple:!0,options:(null===(t=T.data)||void 0===t?void 0:t.data)||[],inputValue:r,loading:N.isLoading||M.isLoading||x(),getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},onInputChange:function(e,t,n){return"input"===n&&i(t)}}})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(kn,{color:"primary",loading:N.isLoading,onClick:g((function(e){return N.mutate(e)})),fullWidth:!0,children:"Add Artist"})})]})]})]})},Si=function(){var e,t,n,a,c,r,i,o,s,l,d,b,O,m,h,f,x,p=It(),v=Object(H.a)(p,2),g=v[0],C=v[1],I=It(),E=Object(H.a)(I,2),P=E[0],U=E[1],A=Object(Y.h)(),w=Number(A.id),L=he().onError,N=Object(j.c)(k),M=Object(j.c)(S),T=Object(j.b)(),R=Object(u.b)(),B=Object(J.a)([me.BAND,w],function(e,t){return function(){return nn.request(Tt,{id:e,currentUserId:t}).then((function(e){return e.band}))}}(w,null===M||void 0===M?void 0:M.id),{onError:L}),q=Object(J.a)([me.BAND,w,me.ALBUMS,g],function(e,t){return function(){return nn.request(Rt,{id:e,albumPage:t}).then((function(e){return e.band.albums}))}}(w,g),{onError:L}),D=Object(J.a)([me.BAND,w,me.MUSICS,P],function(e,t){return function(){return nn.request(Bt,{id:e,musicPage:t}).then((function(e){return e.band.musics}))}}(w,P),{onError:L}),_=Object(J.a)([me.ITUNES,me.BAND,null===(e=B.data)||void 0===e?void 0:e.link.itunes],(function(){var e;return ve(null===(e=B.data)||void 0===e?void 0:e.link.itunes).then((function(e){return e.results[0]}))}),{enabled:!!(null===(t=B.data)||void 0===t?void 0:t.link.itunes),onError:L}),$=Object(J.a)([me.WIKIPEDIA,null===(n=B.data)||void 0===n?void 0:n.link.wikipedia],(function(){var e;return _a(null===(e=B.data)||void 0===e?void 0:e.link.wikipedia)}),{enabled:!!(null===(a=B.data)||void 0===a?void 0:a.link.wikipedia),onError:L}),V=Object(jn.a)((function(){return function(e,t){return un.a.post("".concat(G.BANDS,"/").concat(e).concat(G.BOOKMARKS),void 0,t)}(w,N)}),{onSuccess:function(e){T(y(e.headers)),R.setQueryData([me.BAND,w],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{bookmark:e.data,bookmarksCount:t.bookmarksCount+1})}))},onError:L}),W=Object(jn.a)((function(){var e,t;return function(e,t,n){return un.a.delete("".concat(G.BANDS,"/").concat(e).concat(G.BOOKMARKS,"/").concat(t||"undefined"),n)}(w,null===(e=B.data)||void 0===e||null===(t=e.bookmark)||void 0===t?void 0:t.id,N)}),{onSuccess:function(e){T(y(e.headers)),R.setQueryData([me.BAND,w],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{bookmark:void 0,bookmarksCount:e.bookmarksCount-1})}))},onError:L}),F=Object(jn.a)((function(e){var t;return function(e,t,n,a){return un.a.patch("".concat(G.BANDS,"/").concat(e).concat(G.LINKS,"/").concat(t||"undefined"),n,Object(On.a)({},a))}(w,null===(t=B.data)||void 0===t?void 0:t.link.id,e,N)}),{onSuccess:function(e){T(y(e.headers)),R.setQueryData([me.BAND,w],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{link:e.data})}))},onError:L}),K=function(e){return F.mutate({itunes:e.artistId})},Q=function(e){return F.mutate({wikipedia:e.pageid})},z=function(e){return F.mutate({spotify:e.id})},ee=function(e){return F.mutate({twitter:e})};return Object(je.jsxs)(Ct,{children:[Object(je.jsxs)(X.a,{container:!0,children:[Object(je.jsx)(X.a,{item:!0,xs:11,children:Object(je.jsxs)(Pe.a,{variant:"h5",children:[Object(je.jsx)(Re.a,{}),null===(c=B.data)||void 0===c?void 0:c.name]})}),Object(je.jsx)(X.a,{item:!0,xs:1,children:Object(je.jsx)(la,{count:null===(r=B.data)||void 0===r?void 0:r.bookmarksCount,bookmarked:!!(null===(i=B.data)||void 0===i?void 0:i.bookmark)||!1,onCreate:function(){return V.mutate()},onDestroy:function(){return W.mutate()}})})]}),Object(je.jsx)(Z.a,{children:null===(o=$.data)||void 0===o?void 0:o.extract}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(aa,{twitter:{link:null===(s=B.data)||void 0===s?void 0:s.link.twitter,renderDialog:function(e,t){var n;return Object(je.jsx)(Ba,{defaultValue:null===(n=B.data)||void 0===n?void 0:n.link.twitter,open:e,loading:F.isLoading,onClose:t,onPatch:ee})}},itunes:{link:(null===(l=_.data)||void 0===l?void 0:l.artistLinkUrl)||"",renderDialog:function(e,t){var n;return Object(je.jsx)(ma,{defaultValue:null===(n=B.data)||void 0===n?void 0:n.name,open:e,onClose:t,onSelect:K,showSearchBar:!0})}},wikipedia:{link:null===(d=B.data)||void 0===d?void 0:d.link.wikipedia,renderDialog:function(e,t){var n;return Object(je.jsx)($a,{defaultValue:null===(n=B.data)||void 0===n?void 0:n.name,open:e,onClose:t,onSelect:Q,showSearchBar:!0})}},spotify:{type:"artist",link:null===(b=B.data)||void 0===b?void 0:b.link.spotify,renderDialog:function(e,t){var n;return Object(je.jsx)(Ta,{defaultValue:null===(n=B.data)||void 0===n?void 0:n.name,open:e,onClose:t,onSelect:z,showSearchBar:!0})}}})}),Object(je.jsxs)(Z.a,{mb:3,children:[Object(je.jsx)(gi,{}),Object(je.jsx)(qn,{artists:null===(O=B.data)||void 0===O?void 0:O.artists,loading:B.isLoading})]}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(ke,{musics:(null===(m=D.data)||void 0===m?void 0:m.data)||[],loading:D.isLoading,page:P,pageCount:null===(h=D.data)||void 0===h?void 0:h.pagination.totalPages,onPage:U})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(zn,{albums:(null===(f=q.data)||void 0===f?void 0:f.data)||[],loading:B.isLoading,page:g,pageCount:null===(x=q.data)||void 0===x?void 0:x.pagination.totalPages,onPage:C})})]})},ki=function(){var e,t,n,c=It(),r=Object(H.a)(c,2),i=r[0],o=r[1],s=ta(),l=Object(H.a)(s,3),d=l[0],b=l[1],O=l[2],m=Object(a.useState)(),h=Object(H.a)(m,2),f=h[0],x=h[1],p=Object(dn.d)(),v=p.errors,g=p.control,S=p.setValue,C=p.watch,I=p.register,E=p.handleSubmit,P=C().name,U=Object(Wa.a)(P,1e3),A=Object(H.a)(U,1)[0],w=Object(Y.f)(),L=Object(Y.i)(),N=Object(j.b)(),M=Object(j.c)(k),T=he().onError,R=Object(u.b)(),B=Object(jn.a)((function(e){return function(e,t){return un.a.post(G.BANDS,e,t)}(e,M)}),{onSuccess:function(e){N(y(e.headers)),w.push("".concat(G.BANDS,"/").concat(e.data.id)),R.setQueryData([me.BAND,Number(L.params.id),{musicPage:1,albumPage:1}],e.data),f&&R.setQueryData([me.ITUNES,me.ARTIST,f.artistId],f)},onError:T}),q=Object(J.a)([me.BANDS,{page:i,query:A}],cn(i,{name_eq:A}),{enabled:!!A,onError:T});return Object(a.useEffect)((function(){if(I("link_attributes.itunes"),f){var e=f.artistName,t=f.artistId;S("link_attributes.itunes",t),S("name",e)}}),[I,f,S]),Object(je.jsx)(Ct,{children:Object(je.jsx)(le.a,{children:Object(je.jsxs)(Z.a,{p:3,children:[Object(je.jsx)(vn,{name:"name",defaultValue:"",autoComplete:"on",label:"Name",variant:"outlined",control:g,errors:v,disabled:B.isLoading,fullWidth:!0,InputProps:{endAdornment:Object(je.jsx)(Vn,{color:"inherit",size:20,loading:B.isLoading})}}),Object(je.jsx)(Fa,{onClick:b,disabled:!P,fullWidth:!0,disableElevation:!0}),Object(je.jsx)(ma,{defaultValue:P,open:d,onClose:O,onSelect:function(e){return x(e)}}),Object(je.jsx)(za,{data:null===(e=q.data)||void 0===e?void 0:e.data,children:Object(je.jsx)(Qn,{bands:(null===(t=q.data)||void 0===t?void 0:t.data)||[],page:i,pageCount:null===(n=q.data)||void 0===n?void 0:n.pagination.totalPages,onPage:o,loading:q.isLoading})}),Object(je.jsx)(kn,{color:"primary",loading:B.isLoading,disabled:!P,onClick:E((function(e){return B.mutate(e)})),fullWidth:!0,children:"Create Band"})]})})})},Ci=function(e){var t=e.users,n=e.page,a=e.pageCount,c=e.onPage,r=e.loading;return Object(je.jsx)(Oe,{page:n,pageCount:a,onPage:c,loading:r,children:Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"Name"}),Object(je.jsx)(ne.a,{})]})}),Object(je.jsx)(te.a,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:"".concat(G.USERS,"/").concat(e.id),children:e.nickname})}),Object(je.jsx)(ne.a,{children:Object(je.jsx)(Bn,{href:"https://twitter.com/".concat(e.link.twitter),children:Object(je.jsx)(Mn,{})})})]},e.id)}))})]})})},Ii=function(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],c=t[1],r=Object(wn.useDebounce)(n,1e3),i=Object(H.a)(r,2),o=i[0],s=i[1].isPending,l=It(),u=Object(H.a)(l,2),d=u[0],j=u[1],b=he().onError,O=Object(J.a)([me.USERS,d,o],function(e,t){return function(){return nn.request(Zt,{page:e,q:t}).then((function(e){return e.users}))}}(d,{nickname_cont:o}),{onError:b}),m=O.isLoading,h=O.data;return Object(je.jsxs)(Ct,{children:[Object(je.jsx)(Fn,{onChange:function(e){return c(e.target.value)},loading:m||s()}),Object(je.jsx)(Ci,{users:null===h||void 0===h?void 0:h.data,loading:m,page:d,pageCount:null===h||void 0===h?void 0:h.pagination.totalPages,onPage:j})]})},yi=["followed","onFollow","onUnfollow"],Ei=function(e){var t=e.followed,n=e.onFollow,a=e.onUnfollow,c=Object(mn.a)(e,yi);return t?Object(je.jsx)(Ee.a,Object(On.a)(Object(On.a)({onClick:a},c),{},{children:"UnFollow"})):Object(je.jsx)(Ee.a,Object(On.a)(Object(On.a)({onClick:n},c),{},{children:"Follow"}))},Pi=function(){var e,t,n=It(),a=Object(H.a)(n,2),c=a[0],r=a[1],i=Object(Y.h)(),o=Number(i.id),s=Object(J.a)([me.USER,o,me.MUSICS,c],function(e,t){return function(){return nn.request(Jt,{id:e,musicPage:t}).then((function(e){return e.user.musics}))}}(o,c));return Object(je.jsx)(ke,{musics:(null===(e=s.data)||void 0===e?void 0:e.data)||[],loading:s.isLoading,pageCount:null===(t=s.data)||void 0===t?void 0:t.pagination.totalPages,page:c,onPage:r})},Ui=function(){var e=he().onError,t=Object(Y.h)(),n=Number(t.id),a=Object(j.c)(k),c=Object(u.b)(),r=Object(J.a)([me.USER,n,me.PROFILE],function(e){return function(){return nn.request(Xt,{id:e}).then((function(e){return e.user}))}}(n)),i=r.isLoading,o=r.data,s=c.getQueryData([me.USER,n,me.PROFILE]),l=Object(jn.a)((function(e){return function(e,t,n,a){return un.a.patch("".concat(G.USERS,"/").concat(e).concat(G.LINKS,"/").concat(t||"undefined"),{twitter:n},Object(On.a)({},a))}(n,null===o||void 0===o?void 0:o.link.id,e,a)}),{onSuccess:function(e){c.setQueryData([me.USER,n,me.PROFILE],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{link:e.data})}))},onError:e}),d=function(e){return l.mutate(e)};return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(Z.a,{my:3,children:Object(je.jsx)(aa,{loading:i,twitter:{link:null===o||void 0===o?void 0:o.link.twitter,renderDialog:function(e,t){return Object(je.jsx)(Ba,{defaultValue:null===s||void 0===s?void 0:s.link.twitter,open:e,loading:l.isLoading,onClose:t,onPatch:d})}}})})})},Ai=function(){var e,t,n,a,c,r,i,o,s=It(),l=Object(H.a)(s,2),u=l[0],d=l[1],j=It(),b=Object(H.a)(j,2),O=b[0],m=b[1],h=It(),f=Object(H.a)(h,2),x=f[0],p=f[1],v=It(),g=Object(H.a)(v,2),S=g[0],k=g[1],C=Object(Y.h)(),I=Number(C.id),y=Object(J.a)([me.USER,I,me.BOOKMARKS,me.MUSICS,u],function(e,t){return function(){return nn.request(Yt,{id:e,bookmarkedMusicPage:t}).then((function(e){return e.user.bookmarkedMusics}))}}(I,u)),E=Object(J.a)([me.USER,I,me.BOOKMARKS,me.BANDS,x],function(e,t){return function(){return nn.request(zt,{id:e,bookmarkedBandPage:t}).then((function(e){return e.user.bookmarkedBands}))}}(I,x)),P=Object(J.a)([me.USER,I,me.BOOKMARKS,me.ARTISTS,O],function(e,t){return function(){return nn.request(Qt,{id:e,bookmarkedArtistPage:t}).then((function(e){return e.user.bookmarkedArtists}))}}(I,O)),U=Object(J.a)([me.USER,I,me.BOOKMARKS,me.ALBUMS,S],function(e,t){return function(){return nn.request(Kt,{id:e,bookmarkedAlbumPage:t}).then((function(e){return e.user.bookmarkedAlbums}))}}(I,S));return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(ke,{musics:(null===(e=y.data)||void 0===e?void 0:e.data)||[],pageCount:null===(t=y.data)||void 0===t?void 0:t.pagination.totalPages,loading:y.isLoading,page:u,onPage:d}),Object(je.jsx)(Qn,{bands:(null===(n=E.data)||void 0===n?void 0:n.data)||[],pageCount:null===(a=E.data)||void 0===a?void 0:a.pagination.totalPages,loading:E.isLoading,page:x,onPage:p}),Object(je.jsx)(qn,{artists:null===(c=P.data)||void 0===c?void 0:c.data,pageCount:null===(r=P.data)||void 0===r?void 0:r.pagination.totalPages,loading:P.isLoading,page:O,onPage:m}),Object(je.jsx)(zn,{albums:(null===(i=U.data)||void 0===i?void 0:i.data)||[],pageCount:null===(o=U.data)||void 0===o?void 0:o.pagination.totalPages,loading:U.isLoading,page:S,onPage:k})]})},wi=function(){var e=he().onError,t=Object(j.b)(),n=Object(j.c)(S),a=Object(j.c)(k),c=Object(dn.d)({resolver:Object(bn.a)(Ic)}),r=c.errors,i=c.control,o=c.handleSubmit,s=Object(jn.a)((function(e){return function(e,t,n){return un.a.patch("".concat(G.USERS,"/").concat(e||"undefined"),t,n)}(null===n||void 0===n?void 0:n.id,e,a)}),{onSuccess:function(e){t(I(e.data)),t(y(e.headers))},onError:e}),l=s.isLoading,u=s.mutate;return Object(je.jsxs)("form",{onSubmit:o((function(e){return u(e)})),children:[Object(je.jsx)(Pe.a,{variant:"h5",color:"initial",children:"Setting"}),Object(je.jsx)(vn,{name:"email",defaultValue:null===n||void 0===n?void 0:n.email,label:"Email",variant:"outlined",margin:"normal",control:i,errors:r,disabled:l,fullWidth:!0}),Object(je.jsx)(vn,{name:"nickname",defaultValue:null===n||void 0===n?void 0:n.nickname,label:"NickName",variant:"outlined",margin:"normal",control:i,errors:r,disabled:l,fullWidth:!0}),Object(je.jsx)(vn,{name:"familyname",defaultValue:null===n||void 0===n?void 0:n.familyname,label:"FamilyName",variant:"outlined",margin:"normal",control:i,errors:r,disabled:l,fullWidth:!0}),Object(je.jsx)(vn,{name:"givenname",defaultValue:null===n||void 0===n?void 0:n.givenname,label:"GivenName",variant:"outlined",margin:"normal",control:i,errors:r,disabled:l,fullWidth:!0}),Object(je.jsx)(vn,{name:"introduction",defaultValue:null===n||void 0===n?void 0:n.introduction,label:"Introduction",variant:"outlined",margin:"normal",control:i,errors:r,disabled:l,rows:10,fullWidth:!0,multiline:!0}),Object(je.jsx)(kn,{type:"submit",loading:l,color:"primary",fullWidth:!0,children:"UPDATE"})]})},Li=function(){var e=he().onError,t=Object(j.b)(),n=Object(j.c)(S),a=Object(j.c)(k),c=Object(Y.i)(),r=Object(Y.g)(),i=Number(c.params.id),o=Object(u.b)(),l=Object(J.a)([me.USER,i],function(e,t){return function(){return nn.request(Ft,{id:e,currentUserId:t}).then((function(e){return e.user}))}}(i,null===n||void 0===n?void 0:n.id),{onError:e}),d=l.isLoading,b=l.data,O=Object(jn.a)((function(){return function(e,t){return un.a.post("".concat(G.USERS,"/").concat(e).concat(G.RELATIONSHIPS),void 0,Object(On.a)({},t))}(i,a)}),{onSuccess:function(e){t(y(e.headers)),o.setQueryData([me.USER,i],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{followed:e.data})}))},onError:e}),m=Object(jn.a)((function(){var e;return function(e,t,n){return un.a.delete("".concat(G.USERS,"/").concat(e).concat(G.RELATIONSHIPS,"/").concat(t||"undefined"),Object(On.a)({},n))}(i,null===b||void 0===b||null===(e=b.followed)||void 0===e?void 0:e.id,a)}),{onSuccess:function(e){t(y(e.headers)),o.setQueryData([me.USER,i],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{followed:void 0})}))},onError:e}),h=(null===n||void 0===n?void 0:n.id)===i,f=h?n:b;return Object(je.jsxs)(Ct,{children:[Object(je.jsxs)(X.a,{container:!0,children:[Object(je.jsx)(X.a,{item:!0,xs:11,children:Object(je.jsx)(Pe.a,{variant:"h6",children:null===f||void 0===f?void 0:f.nickname})}),Object(je.jsx)(X.a,{item:!0,xs:1,children:h&&Object(je.jsx)(Ei,{followed:!!(null===f||void 0===f?void 0:f.followed),onFollow:function(){return O.mutate()},onUnfollow:function(){return m.mutate()},disabled:d,children:"Follow"})})]}),Object(je.jsxs)(X.a,{container:!0,spacing:2,children:[Object(je.jsx)(X.a,{item:!0,children:Object(je.jsxs)(re.a,{component:s.b,to:"".concat(G.USERS,"/").concat(i).concat(G.FOLLOWERS),children:[null===f||void 0===f?void 0:f.followersCount,"Followers"]})}),Object(je.jsx)(X.a,{item:!0,children:Object(je.jsxs)(re.a,{component:s.b,to:"".concat(G.USERS,"/").concat(i).concat(G.FOLLOWING),children:[null===f||void 0===f?void 0:f.followingCount,"Following"]})})]}),null===f||void 0===f?void 0:f.introduction,Object(je.jsxs)(Ja.a,{value:r.pathname.includes("issues")?c.url+G.ISSUES:r.pathname,children:[Object(je.jsx)(Ha.a,{label:"Profile",value:c.url,component:s.b,to:c.url}),Object(je.jsx)(Ha.a,{label:"Musics",value:c.url+G.MUSICS,component:s.b,to:c.url+G.MUSICS}),Object(je.jsx)(Ha.a,{label:"Bookmark",value:c.url+G.BOOKMARKS,component:s.b,to:c.url+G.BOOKMARKS}),Object(je.jsx)(Ha.a,{label:"Setting",value:c.url+G.SETTING,component:s.b,to:c.url+G.SETTING,disabled:!h})]}),Object(je.jsxs)(Y.c,{children:[Object(je.jsx)(Y.a,{exact:!0,path:c.path,component:Ui}),Object(je.jsx)(Y.a,{exact:!0,path:c.path+G.MUSICS,component:Pi}),Object(je.jsx)(Y.a,{exact:!0,path:c.path+G.SETTING,component:wi}),Object(je.jsx)(Y.a,{exact:!0,path:c.path+G.BOOKMARKS,component:Ai}),Object(je.jsx)(Y.a,{exact:!0,path:c.path+G.BOOKMARKS,component:Ai})]})]})},Ni=function(){var e,t,n=It(),a=Object(H.a)(n,2),c=a[0],r=a[1],i=Object(Y.h)(),o=Number(i.id),s=Object(J.a)([me.USER,o,me.MUSICS,c],function(e,t){return function(){return nn.request(Gt,{id:e,followerPage:t}).then((function(e){return e.user.followers}))}}(o,c));return Object(je.jsxs)(Ct,{children:[Object(je.jsx)(Pe.a,{variant:"h5",color:"initial",children:"Followers"}),Object(je.jsx)(Ci,{users:null===(e=s.data)||void 0===e?void 0:e.data,loading:s.isLoading,page:c,pageCount:null===(t=s.data)||void 0===t?void 0:t.pagination.totalPages,onPage:r})]})},Mi=function(){var e,t,n=It(),a=Object(H.a)(n,2),c=a[0],r=a[1],i=Object(Y.h)(),o=Number(i.id),s=Object(J.a)([me.USER,o,me.MUSICS,c],function(e,t){return function(){return nn.request(Ht,{id:e,followingPage:t}).then((function(e){return e.user.following}))}}(o,c));return Object(je.jsxs)(Ct,{children:[Object(je.jsx)(Pe.a,{variant:"h5",color:"initial",children:"Following"}),Object(je.jsx)(Ci,{users:null===(e=s.data)||void 0===e?void 0:e.data,loading:s.isLoading,page:c,pageCount:null===(t=s.data)||void 0===t?void 0:t.pagination.totalPages,onPage:r})]})},Ti=function(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],c=t[1],r=Object(wn.useDebounce)(n,1e3),i=Object(H.a)(r,2),o=i[0],s=i[1].isPending,l=It(),u=Object(H.a)(l,2),d=u[0],j=u[1],b=he().onError,O=Object(J.a)([me.ALBUMS,d,o],on(d,{title_cont:o}),{onError:b}),m=O.isLoading,h=O.data;return Object(je.jsxs)(Ct,{children:[Object(je.jsx)(Fn,{onChange:function(e){return c(e.target.value)},loading:m||s()}),Object(je.jsx)(zn,{albums:(null===h||void 0===h?void 0:h.data)||[],loading:m,page:d,pageCount:null===h||void 0===h?void 0:h.pagination.totalPages,onPage:j})]})},Ri=Object(ft.a)({media:{height:100,width:100}}),Bi=function(e){var t=e.album,n=t.artistName,a=t.collectionName,c=t.artworkUrl100,r=t.artistViewUrl,i=Ri();return Object(je.jsx)(Ce.a,{children:Object(je.jsxs)(Z.a,{display:"flex",children:[Object(je.jsx)(Z.a,{mx:1,children:Object(je.jsx)(xt.a,{image:c,className:i.media})}),Object(je.jsxs)(ye.a,{children:[Object(je.jsx)(Pe.a,{children:a}),Object(je.jsx)(Pe.a,{children:n})]}),Object(je.jsx)(Ee.a,{href:r,target:"_blank",rel:"noopener noreferrer",onClick:function(e){return e.stopPropagation()},children:"itunes"})]})})};var qi=function(e){var t=e.defaultValue,n=e.open,a=e.showSearchBar,c=e.onClose,r=e.onSelect;return Object(je.jsx)(Oa,{defaultValue:t,title:"Album",open:n,showSearchBar:a,useQueryArgs:{key:[me.ITUNES,me.ALBUMS],fn:function(e){return function(e,t){return pe.jsonp("/search",{params:{entity:"album",term:e,limit:400,offset:t}})}(e.term,e.page).then((function(e){return{data:e.results}}))}},onSelect:r,onClose:c,children:function(e,t){return Object(je.jsx)(Z.a,{mb:2,onClick:t,children:Object(je.jsx)(Bi,{album:e})},e.collectionId)}})},Di=La()({media:{height:100,width:100}}),_i=function(e){var t=e.album,n=Di();return Object(je.jsx)(Ce.a,{children:Object(je.jsxs)(Z.a,{display:"flex",children:[Object(je.jsx)(Z.a,{display:"flex",justifyItems:"center",alignItems:"center",mx:1,children:Object(je.jsx)(xt.a,{image:t.images[0].url,className:n.media})}),Object(je.jsxs)(ye.a,{children:[Object(je.jsx)(Pe.a,{noWrap:!0,children:t.name}),Object(je.jsx)(Pe.a,{color:"textSecondary",noWrap:!0})]})]})})};var $i=function(e){var t=e.defaultValue,n=e.open,c=e.showSearchBar,r=e.onClose,i=e.onSelect,o=he().onError,s=Object(j.c)(w),l=Object(j.b)(),u=Object(a.useCallback)(function(){var e=Object(xa.a)(fa.a.mark((function e(t){var n,a;return fa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new URLSearchParams).append("code",t),n.append("grant_type","authorization_code"),n.append("redirect_uri",window.location.origin),e.next=6,Pa.post("/token",n);case 6:a=e.sent,l(N(a.data));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l]);return Object(a.useEffect)((function(){window.getSpotifyCode=u}),[u]),s?Object(je.jsx)(Oa,{defaultValue:t,title:"Spotify",open:n,useQueryArgs:{key:[me.SPOTIFY,me.ALBUMS],fn:function(e){return Ua("album",e.term,e.page,null===s||void 0===s?void 0:s.access_token).then((function(e){return{data:e.albums.items,page:e.albums.offset,pageCount:Math.floor(e.albums.total/e.albums.limit)}}))},options:{onError:function(e){o(e),l(M())}}},showSearchBar:c,onSelect:i,onClose:r,children:function(e,t){return Object(je.jsx)(Z.a,{mb:2,onClick:t,children:Object(je.jsx)(_i,{album:e})},e.id)}}):Object(je.jsxs)(da.a,{open:n,onClose:r,fullWidth:!0,children:[Object(je.jsx)(ja.a,{children:"Spotify need SignIn"}),Object(je.jsx)(va.a,{children:Object(je.jsx)(ga.a,{children:Object(je.jsx)(Sa,{})})}),Object(je.jsx)(pa.a,{children:Object(je.jsx)(Ee.a,{onClick:r,color:"default",children:"Cancel"})})]})},Vi=function(){var e,t,n,c=Object(a.useState)(""),r=Object(H.a)(c,2),i=r[0],o=r[1],l=ta(),d=Object(H.a)(l,3),b=d[0],O=d[1],m=d[2],h=Object(dn.d)(),f=h.register,x=h.handleSubmit,p=h.setValue,v=lc()(i,1e3),g=Object(H.a)(v,2),S=g[0],C=g[1].isPending,I=Object(j.b)(),E=Object(j.c)(k),P=he().onError,U=Object(Y.i)(),A=Number(U.params.id),w=U.url+G.ARTISTS,L=Object(u.b)(),N=L.getQueryData([me.ALBUM,A]),M=Object(jn.a)((function(e){return un.a.post(w,e,E)}),{onSuccess:function(e){I(y(e.headers)),L.setQueryData([me.ALBUM,A],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{artists:[].concat(Object(qe.a)(t.artists||[]),[e.data.artist])})}))},onError:P}),T=Object(jn.a)((function(e){return un.a.delete("".concat(w,"/").concat(e.id),E)}),{onSuccess:function(e,t){I(y(e.headers)),L.setQueryData([me.ALBUM,A],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{artists:e.artists&&e.artists.filter((function(e){return e!==t}))})}))},onError:P}),R=Object(J.a)([me.ARTISTS,{query:S}],rn(1,{name_cont:S}),{enabled:!!S,onError:P});return Object(a.useEffect)((function(){f("artist_id")}),[f]),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Ee.a,{onClick:O,children:"Edit"}),Object(je.jsxs)(da.a,{onClose:m,open:b,fullWidth:!0,children:[Object(je.jsx)(ja.a,{children:"Edit Albums"}),Object(je.jsxs)(kt.a,{children:[Object(je.jsx)(ue.a,{component:le.a,children:Object(je.jsxs)(ee.a,{children:[Object(je.jsx)(ae.a,{children:Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:"Artist"}),Object(je.jsx)(ne.a,{align:"right",children:"Delete"})]})}),Object(je.jsx)(te.a,{children:null===N||void 0===N||null===(e=N.artists)||void 0===e?void 0:e.map((function(e){return Object(je.jsxs)(ce.a,{children:[Object(je.jsx)(ne.a,{children:Object(je.jsx)(re.a,{component:s.b,to:"/",children:e.name})}),Object(je.jsx)(ne.a,{align:"right",children:Object(je.jsx)(Tn.a,{onClick:function(){return T.mutate(e)},children:Object(je.jsx)(pc.a,{})})})]},e.id)}))})]})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(jc,{onSelectOption:function(e){return p("artist_id",e.id)},onRemoveOption:function(){return p("artist_id","")},textFieldProps:{label:"Artist",variant:"outlined",margin:"normal"},autocompleteProps:{value:null===(t=R.data)||void 0===t?void 0:t.data,options:(null===(n=R.data)||void 0===n?void 0:n.data)||[],loading:M.isLoading||T.isLoading||C(),multiple:!0,inputValue:i,getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},onInputChange:function(e,t){return o(t)}}})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(kn,{color:"primary",loading:M.isLoading,onClick:x((function(e){return M.mutate(e)})),fullWidth:!0,children:"Add Artist"})})]})]})]})},Wi=function(){var e,t,n,a,c,r,i,o,s,l,d=It(),b=Object(H.a)(d,2),O=b[0],m=b[1],h=he().onError,f=Object(Y.i)(),x=Number(f.params.id),p=Object(j.b)(),v=Object(j.c)(k),g=Object(j.c)(S),C=Object(u.b)(),I=Object(J.a)([me.ALBUM,x],function(e,t){return function(){return nn.request(Pt,{id:e,currentUserId:t}).then((function(e){return e.album}))}}(x,null===g||void 0===g?void 0:g.id),{onError:h}),E=Object(J.a)([me.ALBUM,x,me.MUSICS,O],function(e,t){return function(){return nn.request(Ut,{id:e,musicPage:t}).then((function(e){return e.album.musics}))}}(x,O),{onError:h}),P=Object(J.a)([me.ITUNES,me.ALBUM,null===(e=I.data)||void 0===e?void 0:e.link.itunes],(function(){var e;return ge(null===(e=I.data)||void 0===e?void 0:e.link.itunes).then((function(e){return e.results[0]}))}),{enabled:!!(null===(t=I.data)||void 0===t?void 0:t.link.itunes),onError:h}),U=Object(jn.a)((function(e){var t;return function(e,t,n,a){return un.a.patch("".concat(G.ALBUMS,"/").concat(e).concat(G.LINKS,"/").concat(t||"undefined"),n,Object(On.a)({},a))}(x,null===(t=I.data)||void 0===t?void 0:t.link.id,e,v)}),{onSuccess:function(e){p(y(e.headers)),C.setQueryData([me.ALBUM,x],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{link:e.data})}))},onError:h}),A=Object(jn.a)((function(){return function(e,t){return un.a.post("".concat(G.ALBUMS,"/").concat(e).concat(G.BOOKMARKS),void 0,t)}(x,v)}),{onSuccess:function(e){p(y(e.headers)),C.setQueryData([me.ALBUM,x],(function(t){return t&&Object(On.a)(Object(On.a)({},t),{},{bookmark:e.data,bookmarksCount:t.bookmarksCount+1})}))},onError:h}),w=Object(jn.a)((function(){var e,t;return function(e,t,n){return un.a.delete("".concat(G.ALBUMS,"/").concat(e).concat(G.BOOKMARKS,"/").concat(t||"undefined"),n)}(x,null===(e=I.data)||void 0===e||null===(t=e.bookmark)||void 0===t?void 0:t.id,v)}),{onSuccess:function(e){p(y(e.headers)),C.setQueryData([me.ALBUM,x],(function(e){return e&&Object(On.a)(Object(On.a)({},e),{},{bookmark:void 0,bookmarksCount:e.bookmarksCount-1})}))},onError:h}),L=function(e){return U.mutate({itunes:e.collectionId})},N=function(e){return U.mutate({spotify:e.id})};return Object(je.jsxs)(Ct,{children:[Object(je.jsxs)(X.a,{container:!0,children:[Object(je.jsx)(X.a,{item:!0,xs:11,children:Object(je.jsxs)(Pe.a,{variant:"h5",children:[Object(je.jsx)(Ae.a,{}),null===(n=I.data)||void 0===n?void 0:n.title]})}),Object(je.jsx)(X.a,{item:!0,xs:1,children:Object(je.jsx)(la,{count:null===(a=I.data)||void 0===a?void 0:a.bookmarksCount,bookmarked:!!(null===(c=I.data)||void 0===c?void 0:c.bookmark),onCreate:function(){return A.mutate()},onDestroy:function(){return w.mutate()}})})]}),Object(je.jsx)(Z.a,{height:"100px",width:"100px",m:"auto",children:P.data&&Object(je.jsx)(oe.a,{src:P.data.artworkUrl100})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(aa,{itunes:{link:(null===(r=P.data)||void 0===r?void 0:r.collectionViewUrl)||"",renderDialog:function(e,t){return Object(je.jsx)(qi,{open:e,onClose:t,onSelect:L,showSearchBar:!0})}},spotify:{type:"album",link:null===(i=I.data)||void 0===i?void 0:i.link.spotify,renderDialog:function(e,t){var n;return Object(je.jsx)($i,{defaultValue:null===(n=I.data)||void 0===n?void 0:n.title,open:e,onClose:t,onSelect:N,showSearchBar:!0})}}})}),Object(je.jsx)(Z.a,{mb:3,children:Object(je.jsx)(ke,{musics:(null===(o=E.data)||void 0===o?void 0:o.data)||[],loading:E.isLoading,page:O,pageCount:null===(s=E.data)||void 0===s?void 0:s.pagination.totalPages,onPage:m})}),Object(je.jsx)(Vi,{}),Object(je.jsx)(qn,{artists:null===(l=I.data)||void 0===l?void 0:l.artists,loading:I.isLoading})]})},Fi=function(){var e,t,n,c=It(),r=Object(H.a)(c,2),i=r[0],o=r[1],s=ta(),l=Object(H.a)(s,3),d=l[0],b=l[1],O=l[2],m=Object(a.useState)(),h=Object(H.a)(m,2),f=h[0],x=h[1],p=Object(dn.d)(),v=p.errors,g=p.control,S=p.setValue,C=p.register,I=p.watch,E=p.handleSubmit,P=I().title,U=Object(Wa.a)(P,1e3),A=Object(H.a)(U,1)[0],w=Object(j.b)(),L=Object(j.c)(k),N=Object(Y.f)(),M=he().onError,T=Object(u.b)(),R=Object(jn.a)((function(e){return function(e,t){return un.a.post(G.ALBUMS,e,t)}(e,L)}),{onSuccess:function(e){w(y(e.headers)),N.push("".concat(G.ALBUMS,"/").concat(e.data.id)),T.setQueryData([me.ALBUM,e.data.id],e.data),f&&T.setQueryData([me.ITUNES,me.MUSIC,f.collectionId],f)},onError:M}),B=Object(J.a)([me.ALBUMS,{page:i,query:A}],on(i,{title_cont:A}),{enabled:!!A,onError:M});return Object(a.useEffect)((function(){if(C("link_attributes.itunes"),f){var e=f.collectionName,t=f.collectionId;S("title",e),S("link_attributes.itunes",t)}}),[C,S,f]),Object(je.jsx)(Ct,{children:Object(je.jsx)(le.a,{children:Object(je.jsxs)(Z.a,{p:2,children:[Object(je.jsx)(Z.a,{height:"100px",width:"100px",m:"auto",children:Object(je.jsx)(oe.a,{src:(null===f||void 0===f?void 0:f.artworkUrl100)||"undefiend"})}),Object(je.jsx)(vn,{name:"title",defaultValue:"",autoComplete:"on",label:"Title",variant:"outlined",control:g,errors:v,disabled:R.isLoading,fullWidth:!0,InputProps:{endAdornment:Object(je.jsx)(Vn,{color:"inherit",size:20,loading:B.isLoading})}}),Object(je.jsx)(Fa,{onClick:b,disabled:!P,fullWidth:!0,disableElevation:!0}),Object(je.jsx)(qi,{defaultValue:P,open:d,onClose:O,onSelect:function(e){return x(e)}}),Object(je.jsx)(za,{data:null===(e=B.data)||void 0===e?void 0:e.data,children:Object(je.jsx)(zn,{albums:(null===(t=B.data)||void 0===t?void 0:t.data)||[],page:i,pageCount:null===(n=B.data)||void 0===n?void 0:n.pagination.totalPages,onPage:o,loading:B.isLoading})}),Object(je.jsx)(kn,{color:"primary",loading:R.isLoading,disabled:!P,onClick:E((function(e){return R.mutate(e)})),fullWidth:!0,children:"Create Album"})]})})})},Ki=function(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],c=t[1],r=he().onError,i=Object(dn.d)({resolver:Object(bn.a)(Ec)}),o=i.errors,l=i.control,u=i.handleSubmit,d=Object(jn.a)((function(e){return function(e){return un.a.post(G.CONTACTS,e)}(e)}),{onSuccess:function(){c(!0)},onError:r});return n?Object(je.jsxs)(Ct,{children:[Object(je.jsx)(Pe.a,{children:"Successed"}),Object(je.jsx)(re.a,{component:s.b,to:"/",children:"return Home"})]}):Object(je.jsx)(Ct,{children:Object(je.jsxs)("form",{onSubmit:u((function(e){return d.mutate(e)})),children:[Object(je.jsx)(Pe.a,{children:"Contact"}),Object(je.jsx)(vn,{name:"email",label:"Email",defaultValue:"",variant:"outlined",margin:"normal",control:l,errors:o,fullWidth:!0}),Object(je.jsx)(vn,{name:"description",label:"Description",defaultValue:"",variant:"outlined",margin:"normal",control:l,errors:o,rows:20,multiline:!0,fullWidth:!0}),Object(je.jsx)(kn,{type:"submit",color:"primary",loading:d.isLoading,fullWidth:!0,children:"Submit"})]})})},Qi=function(){return Object(je.jsxs)(Y.c,{children:[Object(je.jsx)(Y.a,{exact:!0,path:G.MUSICS,component:Ga}),Object(je.jsx)(Y.a,{exact:!0,path:"".concat(G.MUSICS).concat(G.NEW),component:wr}),Object(je.jsx)(Y.a,{exact:!0,path:"".concat(G.USERS,"/:userId").concat(G.MUSICS,"/:id").concat(G.TAB),component:pi}),Object(je.jsx)(Y.a,{strict:!0,path:"".concat(G.USERS,"/:userId").concat(G.MUSICS,"/:id"),component:Ar}),Object(je.jsx)(Y.a,{exact:!0,path:G.USERS,component:Ii}),Object(je.jsx)(Y.a,{exact:!0,path:"".concat(G.USERS,"/:id").concat(G.FOLLOWERS),component:Ni}),Object(je.jsx)(Y.a,{exact:!0,path:"".concat(G.USERS,"/:id").concat(G.FOLLOWING),component:Mi}),Object(je.jsx)(Y.a,{strict:!0,path:"".concat(G.USERS,"/:id"),component:Li}),Object(je.jsx)(Y.a,{exact:!0,path:G.BANDS,component:vi}),Object(je.jsx)(Y.a,{exact:!0,path:"".concat(G.BANDS).concat(G.NEW),component:ki}),Object(je.jsx)(Y.a,{exact:!0,path:"".concat(G.BANDS,"/:id"),component:Si}),Object(je.jsx)(Y.a,{exact:!0,path:G.ARTISTS,component:Kn}),Object(je.jsx)(Y.a,{exact:!0,path:"".concat(G.ARTISTS).concat(G.NEW),component:Ya}),Object(je.jsx)(Y.a,{exact:!0,path:"".concat(G.ARTISTS,"/:id"),component:Va}),Object(je.jsx)(Y.a,{exact:!0,path:G.ALBUMS,component:Ti}),Object(je.jsx)(Y.a,{exact:!0,path:"".concat(G.ALBUMS).concat(G.NEW),component:Fi}),Object(je.jsx)(Y.a,{exact:!0,path:"".concat(G.ALBUMS,"/:id"),component:Wi}),Object(je.jsx)(Y.a,{exact:!0,path:G.SIGNIN,component:Pn}),Object(je.jsx)(Y.a,{exact:!0,path:G.SIGNUP,component:An}),Object(je.jsx)(Y.a,{exact:!0,path:G.CONTACTS,component:Ki}),Object(je.jsx)(Y.a,{exact:!0,path:G.ROOT,component:sn})]})},zi=n(411),Yi=n.n(zi),Gi=n(413),Hi=function(){var e=Object(a.useState)(null),t=Object(H.a)(e,2),n=t[0],c=t[1],r=Object(o.b)().enqueueSnackbar,i=Object(j.b)(),l=Object(j.c)(S),u=Object(j.c)(k),d=Object(Y.f)(),b=function(){return c(null)},O=Object(jn.a)((function(){return un.a.delete("/auth/sign_out",u)}),{onMutate:function(){i(E()),d.push({pathname:G.SIGNIN}),b()},onSuccess:function(){r("SignOut successful",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}})},onError:function(e){r(String(e),{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}}),m=O.isLoading,h=O.mutate;return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(cr.a,{position:"fixed",color:"default",children:Object(je.jsxs)(tr.a,{children:[Object(je.jsx)(Pe.a,{variant:"h6",children:Object(je.jsx)(re.a,{underline:"none",color:"inherit",component:s.b,to:"/",children:"Stave"})}),Object(je.jsx)(Z.a,{ml:"auto",children:(null===l||void 0===l?void 0:l.id)?Object(je.jsxs)(Z.a,{children:[Object(je.jsx)(Tn.a,{onClick:function(e){return c(e.currentTarget)},children:Object(je.jsx)(Yi.a,{})}),Object(je.jsxs)(Gi.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:b,children:[Object(je.jsx)(fc.a,{component:s.b,to:"".concat(G.USERS,"/").concat(l.id),children:"Account"}),Object(je.jsx)(fc.a,{disabled:m,onClick:function(){return h()},children:"Logout"})]})]}):Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Ee.a,{color:"inherit",variant:"contained",component:s.b,to:G.SIGNIN,children:"SignIn"}),Object(je.jsx)(Ee.a,{color:"inherit",variant:"contained",component:s.b,to:G.SIGNUP,children:"SignUp"})]})})]})}),Object(je.jsx)(tr.a,{})]})},Ji=function(){return Object(je.jsx)(Ct,{children:Object(je.jsx)(re.a,{component:s.b,to:G.CONTACTS,children:"Contact"})})},Xi=n(412),Zi=Object(Xi.a)({palette:{spotify:{main:"#1DB954",light:"#a2ebbc"},twitter:{main:"#1da1f2",dark:"#158ad1"},itunes:{main:"#fa57c1",light:"#ffbfe9"}}}),eo=n(1267),to=n(1266),no=n(143),ao=function(){var e=Object(j.b)(),t=Object(j.c)(B),n=Object(a.useState)("up"),c=Object(H.a)(n,2),r=c[0],i=c[1],o=function(){return e(D())};return Object(je.jsx)(da.a,{fullWidth:!0,open:t,onClose:o,children:Object(je.jsx)(no.a,{value:r,children:Object(je.jsxs)(le.a,{square:!0,children:[Object(je.jsxs)(to.a,{value:r,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return i(t)},"aria-label":"disabled tabs example",variant:"fullWidth",children:[Object(je.jsx)(Ha.a,{label:"SignIn",value:"in"}),Object(je.jsx)(Ha.a,{label:"SignUp",value:"up"})]}),Object(je.jsx)(eo.a,{value:"in",children:Object(je.jsx)(En,{onSuccess:o})}),Object(je.jsx)(eo.a,{value:"up",children:Object(je.jsx)(Un,{onSuccess:o})})]})})})},co=new l.a,ro=function(){return Object(je.jsx)(j.a,{store:Q,children:Object(je.jsx)(o.a,{maxSnack:3,children:Object(je.jsx)(u.a,{client:co,children:Object(je.jsx)(b.a,{loading:null,persistor:z,children:Object(je.jsxs)(O.a,{theme:Zi,children:[Object(je.jsx)(d.ReactQueryDevtools,{initialIsOpen:!0}),Object(je.jsxs)(s.a,{basename:"front",children:[Object(je.jsx)(Hi,{}),Object(je.jsx)(Qi,{}),Object(je.jsx)(Ji,{}),Object(je.jsx)(ao,{})]})]})})})})})},io=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1289)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};n(1185);i.a.render(Object(je.jsx)(c.a.StrictMode,{children:Object(je.jsx)(ro,{})}),document.getElementById("root")),io()},397:function(e,t,n){e.exports={lyric:"Lyric_lyric__3rgSk"}},4:function(e){e.exports=JSON.parse('{"ROOT":"/","SIGNUP":"/signup","SIGNIN":"/signin","ALBUMS":"/albums","ARTISTS":"/artists","COMPOSERS":"/composers","LYRISTS":"/lyrists","MUSICS":"/musics","ISSUES":"/issues","INFO":"/info","SETTING":"/setting","BANDS":"/bands","USERS":"/users","LINKS":"/links","BOOKMARKS":"/bookmarks","RELATIONSHIPS":"/relationships","FOLLOWERS":"/followers","FOLLOWING":"/following","ARTIST_MUSICS":"/artist_musics","ALBUM_MUSICS":"/album_musics","ARTIST_BANDS":"/artist_bands","ARTIST_ALBUMS":"/artist_albums","BAND_ALBUMS":"/band_albums","TAB":"/tab","NEW":"/new","FILES":"/files","FILE":"/file","TREE":"/tree","BLOB":"/blob","LYRIC":"/lyric","CONTACTS":"/contacts"}')},410:function(e,t,n){e.exports={atSidebar:"Score_atSidebar__TWnY_"}},5:function(e){e.exports=JSON.parse('{"ALBUMS":"albums","ALBUM":"album","ARTISTS":"artists","ARTIST":"artist","BANDS":"bands","BAND":"band","MUSICS":"musics","MUSIC":"music","SCORE":"score","REPOSITORY":"repository","BLOB":"blob","USERS":"users","USER":"user","PROFILE":"profile","FOLLOWERS":"followers","FOLLOWING":"following","ISSUES":"issues","ISSUE":"issue","BOOKMARKS":"bookmarks","ITUNES":"itunes","WIKIPEDIA":"wikipedia","MUSIXMATCH":"musixmatch","SPOTIFY":"spotify"}')}},[[1186,1,2]]]);
//# sourceMappingURL=main.1ab603c1.chunk.js.map